{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "SmoothDisplacementField",
  "description": "SmoothDisplacementField applies smoothing to a displacement field over a specified number of levels with optional parameters for spline order, inverse estimation, and confidence image output.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "ants/SmoothDisplacementField"
    },
    "image_dimension": {
      "type": "integer",
      "title": "Image Dimension",
      "description": "The dimensionality of the input displacement field."
    },
    "input_field": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Field",
      "description": "The input displacement field file."
    },
    "output_field": {
      "type": "string",
      "title": "Output Field",
      "description": "The output file for the smoothed displacement field."
    },
    "variance_or_mesh_size_base_level": {
      "type": "number",
      "title": "Variance or Mesh Size Base Level",
      "description": "The variance for Gaussian smoothing or mesh size at the base level for B-spline smoothing."
    },
    "number_of_levels": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Levels",
      "description": "The number of levels for multi-resolution smoothing."
    },
    "spline_order": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Spline Order",
      "description": "The order of the spline for B-spline smoothing."
    },
    "estimate_inverse": {
      "anyOf": [
        {
          "type": "integer",
          "enum": [
            0,
            1
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Estimate Inverse",
      "description": "Estimate the inverse of the displacement field if set to 1."
    },
    "confidence_image": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Confidence Image",
      "description": "Optional confidence image output of the smoothing process."
    }
  },
  "additionalProperties": false,
  "required": [
    "image_dimension",
    "input_field",
    "output_field",
    "variance_or_mesh_size_base_level"
  ]
}