{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "antsApplyTransforms",
  "description": "antsApplyTransforms, applied to an input image, transforms it according to a reference image and a transform (or a set of transforms).",
  "type": "object",
  "properties": {
    "@type": {
      "const": "ants/antsApplyTransforms"
    },
    "dimensionality": {
      "anyOf": [
        {
          "type": "integer",
          "enum": [
            2,
            3,
            4
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "dimensionality",
      "description": "This option forces the image to be treated as a specified-dimensional image. if not specified, antswarp tries to infer the dimensionality from the input image."
    },
    "input_image_type": {
      "anyOf": [
        {
          "type": "integer",
          "enum": [
            0,
            1,
            2,
            3,
            4,
            5
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input image type",
      "description": "Option specifying the input image type of scalar (default), vector, tensor, time series, or multi-channel. A time series image is a scalar image defined by an additional dimension for the time component whereas a multi-channel image is a vector image with only spatial dimensions. Five-dimensional images are e.g., AFNI stats image."
    },
    "input_image": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input image",
      "description": "Currently, the only input objects supported are image objects. However, the current framework allows for warping of other objects such as meshes and point sets."
    },
    "reference_image": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Reference image",
      "description": "For warping input images, the reference image defines the spacing, origin, size, and direction of the output warped image."
    },
    "output": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "warpedOutput"
            },
            "warpedOutputFileName": {
              "type": "string",
              "title": "Warped output file name",
              "description": "Output file name."
            }
          },
          "additionalProperties": false,
          "title": "Warped output file name",
          "description": "Output the warped image.",
          "required": [
            "@type",
            "warpedOutputFileName"
          ]
        },
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "compositeDisplacementFieldOutput"
            },
            "compositeDisplacementField": {
              "type": "string",
              "title": "Warped output file name",
              "description": "Output file name."
            },
            "printOutCompositeWarpFile": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Print out composite warp file",
              "description": "Output a composite warp file instead of a transformed image."
            }
          },
          "additionalProperties": false,
          "description": "Print out the displacement field based on the composite transform and the reference image.",
          "required": [
            "@type",
            "compositeDisplacementField"
          ]
        },
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "genericAffineTransformOutput"
            },
            "genericAffineTransformFile": {
              "type": "string",
              "title": "Generic affine transform file",
              "description": "Output file name."
            },
            "calculateInverse": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Calculate inverse",
              "description": "Calculate the inverse of the affine transform."
            }
          },
          "additionalProperties": false,
          "description": "Compose all affine transforms and (if boolean is set) calculate its inverse which is then written to an ITK file.",
          "required": [
            "@type",
            "genericAffineTransformFile"
          ]
        }
      ],
      "title": "Output",
      "description": "One can either output the warped image or, if the boolean is set, one can print out the displacement field based on the composite transform and the reference image. A third option is to compose all affine transforms and (if boolean is set) calculate its inverse which is then written to an ITK file."
    },
    "interpolation": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "linear"
                }
              },
              "additionalProperties": false,
              "title": "Linear",
              "description": "Linear interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "nearestNeighbor"
                }
              },
              "additionalProperties": false,
              "title": "Nearest neighbor",
              "description": "Nearest neighbor interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "multiLabelnoparams"
                }
              },
              "additionalProperties": false,
              "title": "Multi label no params",
              "description": "Multi label interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "multiLabel"
                },
                "params": {
                  "type": "object",
                  "properties": {
                    "@type": {
                      "const": "param"
                    },
                    "params": {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "const": "sigma"
                              },
                              "sigma": {
                                "type": "number",
                                "title": "Sigma",
                                "description": "Sigma value."
                              }
                            },
                            "additionalProperties": false,
                            "description": "Sigma value.",
                            "required": [
                              "@type",
                              "sigma"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "const": "alpha"
                              },
                              "alpha": {
                                "type": "number",
                                "title": "Alpha",
                                "description": "Alpha value."
                              }
                            },
                            "additionalProperties": false,
                            "description": "Alpha value.",
                            "required": [
                              "@type",
                              "alpha"
                            ]
                          }
                        ]
                      },
                      "title": "Params"
                    }
                  },
                  "additionalProperties": false,
                  "required": [
                    "params"
                  ]
                }
              },
              "additionalProperties": false,
              "title": "Multi label",
              "description": "Multi label interpolation.",
              "required": [
                "@type",
                "params"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "gaussianNoParams"
                }
              },
              "additionalProperties": false,
              "title": "Gaussian no params",
              "description": "Gaussian interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "gaussian"
                },
                "sigma": {
                  "type": "number",
                  "title": "Sigma",
                  "description": "Sigma value."
                },
                "alpha": {
                  "anyOf": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "title": "Alpha",
                  "description": "Alpha value."
                }
              },
              "additionalProperties": false,
              "title": "Gaussian",
              "description": "Gaussian interpolation.",
              "required": [
                "@type",
                "sigma"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "bsplineNoParams"
                }
              },
              "additionalProperties": false,
              "title": "BSpline no params",
              "description": "BSpline interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "bspline"
                },
                "order": {
                  "type": "integer",
                  "title": "Order",
                  "description": "Order value."
                }
              },
              "additionalProperties": false,
              "title": "BSpline",
              "description": "BSpline interpolation.",
              "required": [
                "@type",
                "order"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "cosineWindowedSinc"
                }
              },
              "additionalProperties": false,
              "title": "Cosine windowed sinc",
              "description": "Cosine windowed sinc interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "welchWindowedSinc"
                }
              },
              "additionalProperties": false,
              "title": "Welch windowed sinc",
              "description": "Welch windowed sinc interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "hammingWindowedSinc"
                }
              },
              "additionalProperties": false,
              "title": "Hamming windowed sinc",
              "description": "Hamming windowed sinc interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "lanczosWindowedSinc"
                }
              },
              "additionalProperties": false,
              "title": "Lanczos windowed sinc",
              "description": "Lanczos windowed sinc interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "genericLabelNoParams"
                }
              },
              "additionalProperties": false,
              "title": "Generic label no params",
              "description": "Generic label interpolation.",
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "const": "genericLabel"
                },
                "interpolator": {
                  "type": "string",
                  "title": "Interpolator",
                  "description": "Interpolator value."
                }
              },
              "additionalProperties": false,
              "title": "Generic label",
              "description": "Generic label interpolation.",
              "required": [
                "@type",
                "interpolator"
              ]
            }
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Interpolation",
      "description": "Several interpolation options are available in ITK. These have all been made available."
    },
    "output_data_type": {
      "anyOf": [
        {
          "type": "string",
          "enum": [
            "char",
            "uchar",
            "short",
            "int",
            "float",
            "double",
            "default"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output data type",
      "description": "Output image data type. This is a direct typecast; output values are not rescaled. Default is to use the internal data type (float or double). uchar is unsigned char; others are signed. WARNING: Outputs will be incorrect (overflowed/reinterpreted) if values exceed the range allowed by your choice. Note that some pixel types are not supported by some image formats. e.g. int is not supported by jpg."
    },
    "transform": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "@type": {
                    "const": "transformFileName"
                  },
                  "transformFileName": {
                    "type": "string",
                    "x-styx-type": "file",
                    "title": "Transform file name",
                    "description": "Transform file name."
                  }
                },
                "additionalProperties": false,
                "title": "Transform file name",
                "description": "Transform file name.",
                "required": [
                  "@type",
                  "transformFileName"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "@type": {
                    "const": "useInverse"
                  },
                  "transformFileName": {
                    "type": "string",
                    "x-styx-type": "file",
                    "title": "Transform file name",
                    "description": "Transform file name."
                  }
                },
                "additionalProperties": false,
                "title": "Use inverse",
                "description": "Use inverse.",
                "required": [
                  "@type",
                  "transformFileName"
                ]
              }
            ]
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Transform",
      "description": "Several transform options are supported including all those defined in the ITK library in addition to a deformation field transform. The ordering of the transformations follows the ordering specified on the command line. An identity transform is pushed onto the transformation stack. Each new transform encountered on the command line is also pushed onto the transformation stack. Then, to warp the input object, each point comprising the input object is warped first according to the last transform pushed onto the stack followed by the second to last transform, etc. until the last transform encountered which is the identity transform. Also, it should be noted that the inverse transform can be accommodated with the usual caveat that such an inverse must be defined by the specified transform class."
    },
    "default_value": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Default value",
      "description": "Default voxel value to be used with input images only. Specifies the voxel value when the input point maps outside the output domain. With tensor input images, specifies the default voxel eigenvalues."
    },
    "static_cast_for_R": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Static cast for R",
      "description": "Forces static cast in ReadTransform (for R)."
    },
    "float": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Float",
      "description": "Use float instead of double for computations."
    },
    "verbose": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Verbose",
      "description": "Verbose output."
    }
  },
  "additionalProperties": false,
  "required": [
    "reference_image",
    "output",
    "@type"
  ]
}