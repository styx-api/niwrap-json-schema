{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Extracts an affine transform from a deformation field. The input deformation field is expected to be in the same physical space as the images you want to transform.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "ANTSUseDeformationFieldToGetAffineTransform"
    },
    "deformation_field": {
      "type": "string",
      "title": "Deformation Field",
      "description": "The input deformation field in NIfTI format (e.g., zzzWarp.nii.gz)."
    },
    "load_ratio": {
      "type": "number",
      "title": "Load Ratio",
      "description": "Ratio of points to be loaded from deformation field to save memory (ex: 0.01)."
    },
    "transform_type": {
      "type": "string",
      "title": "Transform Type",
      "description": "Type of transform to be extracted. Can be 'rigid' or 'affine'."
    },
    "output_affine": {
      "type": "string",
      "title": "Output Affine",
      "description": "The output file where the affine transform will be saved (e.g., OutAffine.txt)."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask",
      "description": "Optional mask file defining the region from which points will be selected."
    }
  },
  "additionalProperties": false,
  "required": [
    "deformation_field",
    "load_ratio",
    "transform_type",
    "output_affine"
  ]
}