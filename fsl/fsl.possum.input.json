{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "possum",
  "description": "Positron emission tomography (PET) simulation tool as part of FSL suite",
  "type": "object",
  "properties": {
    "@type": {
      "const": "fsl/possum"
    },
    "input_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Object",
      "description": "Input 4D volume filename"
    },
    "mr_parameters": {
      "type": "string",
      "x-styx-type": "file",
      "title": "MR Parameters",
      "description": "Input matrix filename containing MR parameters"
    },
    "motion_matrix": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Motion Matrix",
      "description": "Input motion matrix filename (time(s) Tx(m) Ty(m) Tz(m) Rx(rad) Ry(rad) Rz(rad))"
    },
    "pulse_sequence": {
      "type": "string",
      "title": "Pulse Sequence",
      "description": "Input matrix basename for pulse sequence files (.posx, .posy, etc.)"
    },
    "rf_slice_profile": {
      "type": "string",
      "x-styx-type": "file",
      "title": "RF Slice Profile",
      "description": "Input matrix filename containing RF slice profile"
    },
    "output_signal": {
      "type": "string",
      "title": "Output Signal",
      "description": "Output matrix filename for the signal"
    },
    "event_matrix": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Main Event Matrix",
      "description": "Main event matrix file [(t(s), rf_ang(rad), rf_freq_band(Hz), rf_cent_freq(Hz), ...)]"
    },
    "verbose": {
      "type": "boolean",
      "default": false,
      "title": "Verbose",
      "description": "Switch on diagnostic messages"
    },
    "help": {
      "type": "boolean",
      "default": false,
      "title": "Help",
      "description": "Display help message"
    },
    "kcoord": {
      "type": "boolean",
      "default": false,
      "title": "K-space Coordinates",
      "description": "Save the k-space coordinates"
    },
    "b0_inhomogeneities": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "B0 Inhomogeneities",
      "description": "B0 inhomogeneities due to susceptibility differences (basename)"
    },
    "extra_b0_inhomogeneities": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Extra B0 Inhomogeneities",
      "description": "B0 inhomogeneities due to an extra field"
    },
    "b0_inhomogeneities_timecourse": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "B0 Inhomogeneities Time Course",
      "description": "B0 inhomogeneities timecourse file"
    },
    "rf_inhomogeneity_receive": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "RF Inhomogeneity Receive",
      "description": "RF inhomogeneity - receive"
    },
    "rf_inhomogeneity_transmit": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "RF Inhomogeneity Transmit",
      "description": "RF inhomogeneity - transmit"
    },
    "activation_volume": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Activation Volume",
      "description": "Activation volume file"
    },
    "activation_timecourse": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Activation Time Course",
      "description": "Activation time course file"
    },
    "activation_4d_volume": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Activation 4D Volume",
      "description": "Activation 4D volume file"
    },
    "activation_4d_timecourse": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Activation 4D Time Course",
      "description": "Activation 4D time course file"
    },
    "level": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Levels",
      "description": "Level of processing: 1.no motion//basic B0, 2.motion//basic B0, 3.motion//full B0, 4.no motion//time changing B0"
    },
    "num_procs": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Processors",
      "description": "Number of processors available for parallelisation"
    },
    "proc_id": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Processor ID",
      "description": "ID of the processor"
    },
    "no_speedup": {
      "type": "boolean",
      "default": false,
      "title": "No Speedup",
      "description": "If ON, will not do the speedup but perform signal calculation for all slices for each voxel"
    },
    "rf_average": {
      "type": "boolean",
      "default": false,
      "title": "RF Angle Averaging",
      "description": "If ON, it will use RF angle averaging"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_volume",
    "mr_parameters",
    "motion_matrix",
    "pulse_sequence",
    "rf_slice_profile",
    "output_signal",
    "event_matrix"
  ]
}