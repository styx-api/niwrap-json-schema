{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Probabilistic tractography and diffusion MRI fitting tool",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "bedpostx_gpu"
    },
    "subject_dir": {
      "type": "string",
      "title": "Subject Directory",
      "description": "Directory containing the subject's DWI data and associated files (bvals, bvecs, data, nodif_brain_mask)."
    },
    "gpu_queue": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "GPU Queue",
      "description": "Name of the GPU(s) queue. Default: --coprocessor=cuda to let fsl_sub decide on the queue"
    },
    "num_jobs": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Jobs",
      "description": "Number of jobs to queue. The data is divided into this number of parts, useful for a GPU cluster. Default: 4"
    },
    "num_fibers": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Fibers",
      "description": "Number of fibres per voxel. Default: 3"
    },
    "ard_weight": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "ARD Weight",
      "description": "Automatic Relevance Determination (ARD) weight. More weight means fewer secondary fibres per voxel. Default: 1"
    },
    "burnin_period": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Burn-in Period",
      "description": "Burn-in period. Default: 1000"
    },
    "num_jumps": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Jumps",
      "description": "Number of jumps. Default: 1250"
    },
    "sample_every": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sample Every",
      "description": "Sample every N steps. Default: 25"
    },
    "deconv_model": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Deconvolution Model",
      "description": "Deconvolution model. 1: with sticks, 2: with sticks with a range of diffusivities (default), 3: with zeppelins"
    },
    "grad_nonlinear": {
      "type": "boolean",
      "default": false,
      "title": "Gradient Nonlinearities",
      "description": "Consider gradient nonlinearities. Default: off"
    }
  },
  "additionalProperties": false,
  "required": [
    "subject_dir"
  ]
}