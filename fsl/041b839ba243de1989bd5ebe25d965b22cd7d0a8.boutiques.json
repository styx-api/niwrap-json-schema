{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Tool to deface a structural T1w image.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "fsl.fsl_deface"
    },
    "infile": {
      "type": "string",
      "title": "Input file",
      "description": "Input T1w image"
    },
    "outfile": {
      "type": "string",
      "title": "Output file",
      "description": "Output defaced T1w image"
    },
    "cropped_defacing_flag": {
      "type": "boolean",
      "default": false,
      "title": "Cropped defacing flag",
      "description": "Apply the defacing to the cropped image instead of the original image"
    },
    "defacing_mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Defacing mask",
      "description": "Filename to save the defacing mask"
    },
    "cropped_struc": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cropped struct",
      "description": "Filename to save the new cropped struct"
    },
    "orig_to_std_mat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Original to std matrix",
      "description": "Filename to save affine matrix from original struct to std"
    },
    "orig_to_cropped_mat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Original to cropped matrix",
      "description": "Filename to save affine matrix from original struct to cropped struct"
    },
    "cropped_to_std_mat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cropped to std matrix",
      "description": "Filename to save affine matrix from cropped struct to std"
    },
    "shift_nud": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Face mask shift vector",
      "description": "Shift, in mm, x-, y- and z-directions, to shift face mask by (These matrices will only work if the input has been previously reoriented to std)"
    },
    "fractional_intensity": {
      "anyOf": [
        {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fractional intensity for bet",
      "description": "Fractional intensity for bet (0->1); default=0.5"
    },
    "bias_correct_flag": {
      "type": "boolean",
      "default": false,
      "title": "Bias correct flag",
      "description": "Bias-correct the input image (with fast)"
    },
    "center_of_gravity": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Center of gravity vector",
      "description": "Center-of-gravity for bet (voxels, not mm)"
    },
    "qc_images": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "QC images base name",
      "description": "Generate 2 pngs to show how the defacing worked for QC purposes"
    }
  },
  "additionalProperties": false,
  "required": [
    "infile",
    "outfile"
  ]
}