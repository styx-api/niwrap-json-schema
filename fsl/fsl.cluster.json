{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Uses FSL cluster to perform clustering on statistical output",
  "type": "object",
  "properties": {
    "@type": {
      "const": "fsl.cluster"
    },
    "connectivity": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Connectivity",
      "description": "The connectivity of voxels (default 26)."
    },
    "cope_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cope file",
      "description": "Cope volume."
    },
    "dlh": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Dlh",
      "description": "Smoothness estimate = sqrt(det(lambda))."
    },
    "find_min": {
      "type": "boolean",
      "default": false,
      "title": "Find min",
      "description": "Find minima instead of maxima."
    },
    "fractional": {
      "type": "boolean",
      "default": false,
      "title": "Fractional",
      "description": "Interprets the threshold as a fraction of the robust range."
    },
    "in_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "In file",
      "description": "Input volume."
    },
    "minclustersize": {
      "type": "boolean",
      "default": false,
      "title": "Minclustersize",
      "description": "Prints out minimum significant cluster size."
    },
    "no_table": {
      "type": "boolean",
      "default": false,
      "title": "No table",
      "description": "Suppresses printing of the table info."
    },
    "num_maxima": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Num maxima",
      "description": "No of local maxima to report."
    },
    "out_index_file": {
      "type": "string",
      "title": "Out index file",
      "description": "A boolean or file. Output of cluster index (in size order)."
    },
    "out_index_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out index file",
      "description": "A boolean or file. Output of cluster index (in size order)."
    },
    "out_localmax_txt_file": {
      "type": "string",
      "title": "Out localmax txt file",
      "description": "A boolean or file. Local maxima text file."
    },
    "out_localmax_txt_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out localmax txt file",
      "description": "A boolean or file. Local maxima text file."
    },
    "out_localmax_vol_file": {
      "type": "string",
      "title": "Out localmax vol file",
      "description": "A boolean or file. Output of local maxima volume."
    },
    "out_localmax_vol_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out localmax vol file",
      "description": "A boolean or file. Output of local maxima volume."
    },
    "out_max_file": {
      "type": "string",
      "title": "Out max file",
      "description": "A boolean or file. Filename for output of max image."
    },
    "out_max_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out max file",
      "description": "A boolean or file. Filename for output of max image."
    },
    "out_mean_file": {
      "type": "string",
      "title": "Out mean file",
      "description": "A boolean or file. Filename for output of mean image."
    },
    "out_mean_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out mean file",
      "description": "A boolean or file. Filename for output of mean image."
    },
    "out_pval_file": {
      "type": "string",
      "title": "Out pval file",
      "description": "A boolean or file. Filename for image output of log pvals."
    },
    "out_pval_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out pval file",
      "description": "A boolean or file. Filename for image output of log pvals."
    },
    "out_size_file": {
      "type": "string",
      "title": "Out size file",
      "description": "A boolean or file. Filename for output of size image."
    },
    "out_size_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out size file",
      "description": "A boolean or file. Filename for output of size image."
    },
    "out_threshold_file": {
      "type": "string",
      "title": "Out threshold file",
      "description": "A boolean or file. Thresholded image."
    },
    "out_threshold_file_2": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Out threshold file",
      "description": "A boolean or file. Thresholded image."
    },
    "output_type": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output type",
      "description": "'nifti' or 'nifti_pair' or 'nifti_gz' or 'nifti_pair_gz'. Fsl output type."
    },
    "peak_distance": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Peak distance",
      "description": "Minimum distance between local maxima/minima, in mm (default 0)."
    },
    "pthreshold": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Pthreshold",
      "description": "P-threshold for clusters."
    },
    "std_space_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Std space file",
      "description": "Filename for standard-space volume."
    },
    "threshold": {
      "type": "number",
      "title": "Threshold",
      "description": "Threshold for input volume."
    },
    "use_mm": {
      "type": "boolean",
      "default": false,
      "title": "Use mm",
      "description": "Use mm, not voxel, coordinates."
    },
    "volume": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Volume",
      "description": "Number of voxels in the mask."
    },
    "warpfield_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Warpfield file",
      "description": "File containing warpfield."
    },
    "xfm_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Xfm file",
      "description": "Filename for linear: input->standard-space transform. non-linear: input->highres transform."
    }
  },
  "additionalProperties": false,
  "required": [
    "in_file",
    "out_index_file",
    "out_localmax_txt_file",
    "out_localmax_vol_file",
    "out_max_file",
    "out_mean_file",
    "out_pval_file",
    "out_size_file",
    "out_threshold_file",
    "threshold"
  ]
}