{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "applyxfm4D",
  "description": "Applies 4D transformation matrices to 4D volumes",
  "type": "object",
  "properties": {
    "@type": {
      "const": "fsl/applyxfm4D"
    },
    "input_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input volume",
      "description": "Input 4D volume (e.g. img.nii.gz)"
    },
    "ref_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Reference volume",
      "description": "Reference volume (e.g. ref.nii.gz)"
    },
    "output_volume": {
      "type": "string",
      "title": "Output volume",
      "description": "Output volume after applying transformation (e.g. output.nii.gz)"
    },
    "transformation_matrix": {
      "type": "string",
      "title": "Transformation matrix",
      "description": "Transformation matrix file or directory"
    },
    "interpolation_method": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Interpolation method",
      "description": "Interpolation method; options are nearestneighbour (or nn), trilinear, spline, sinc; default is sinc"
    },
    "single_matrix_flag": {
      "type": "boolean",
      "default": false,
      "title": "Single matrix flag",
      "description": "Flag to specify a single transformation matrix"
    },
    "four_digit_flag": {
      "type": "boolean",
      "default": false,
      "title": "Four digit flag",
      "description": "Flag to use four digits in naming files"
    },
    "user_prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "User prefix",
      "description": "User-defined prefix for output files"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_volume",
    "ref_volume",
    "output_volume",
    "transformation_matrix"
  ]
}