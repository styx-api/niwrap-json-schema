{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "metric-resample",
  "description": "Resample a metric file to a different mesh.\n\nResamples a metric file, given two spherical surfaces that are in register.  If ADAP_BARY_AREA is used, exactly one of -area-surfs or -area-metrics must be specified.\n\nThe ADAP_BARY_AREA method is recommended for ordinary metric data, because it should use all data while downsampling, unlike BARYCENTRIC.  The recommended areas option for most data is individual midthicknesses for individual data, and averaged vertex area metrics from individual midthicknesses for group average data.\n\nThe -current-roi option only masks the input, the output may be slightly dilated in comparison, consider using -metric-mask on the output when using -current-roi.\n\nThe -largest option results in nearest vertex behavior when used with BARYCENTRIC.  When resampling a binary metric, consider thresholding at 0.5 after resampling rather than using -largest.\n\nThe <method> argument must be one of the following:\n\nADAP_BARY_AREA\nBARYCENTRIC\n",
  "type": "object",
  "properties": {
    "@type": {
      "const": "workbench/metric-resample"
    },
    "metric_in": {
      "type": "string",
      "x-styx-type": "file",
      "title": "metric_in",
      "description": "the metric file to resample"
    },
    "current_sphere": {
      "type": "string",
      "x-styx-type": "file",
      "title": "current_sphere",
      "description": "a sphere surface with the mesh that the metric is currently on"
    },
    "new_sphere": {
      "type": "string",
      "x-styx-type": "file",
      "title": "new_sphere",
      "description": "a sphere surface that is in register with <current-sphere> and has the desired output mesh"
    },
    "method": {
      "type": "string",
      "title": "method",
      "description": "the method name"
    },
    "metric_out": {
      "type": "string",
      "title": "metric_out",
      "description": "the output metric"
    },
    "area_surfs": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "area_surfs"
            },
            "current_area": {
              "type": "string",
              "x-styx-type": "file",
              "title": "current_area",
              "description": "a relevant anatomical surface with <current-sphere> mesh"
            },
            "new_area": {
              "type": "string",
              "x-styx-type": "file",
              "title": "new_area",
              "description": "a relevant anatomical surface with <new-sphere> mesh"
            }
          },
          "additionalProperties": false,
          "title": "area_surfs",
          "description": "specify surfaces to do vertex area correction based on",
          "required": [
            "current_area",
            "new_area"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "area_surfs",
      "description": "specify surfaces to do vertex area correction based on"
    },
    "area_metrics": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "area_metrics"
            },
            "current_area": {
              "type": "string",
              "x-styx-type": "file",
              "title": "current_area",
              "description": "a metric file with vertex areas for <current-sphere> mesh"
            },
            "new_area": {
              "type": "string",
              "x-styx-type": "file",
              "title": "new_area",
              "description": "a metric file with vertex areas for <new-sphere> mesh"
            }
          },
          "additionalProperties": false,
          "title": "area_metrics",
          "description": "specify vertex area metrics to do area correction based on",
          "required": [
            "current_area",
            "new_area"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "area_metrics",
      "description": "specify vertex area metrics to do area correction based on"
    },
    "opt_current_roi_roi_metric": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "opt_current_roi_roi_metric",
      "description": "use an input roi on the current mesh to exclude non-data vertices: the roi, as a metric file"
    },
    "opt_valid_roi_out_roi_out": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "opt_valid_roi_out_roi_out",
      "description": "output the ROI of vertices that got data from valid source vertices: the output roi as a metric"
    },
    "opt_largest": {
      "type": "boolean",
      "default": false,
      "title": "opt_largest",
      "description": "use only the value of the vertex with the largest weight"
    },
    "opt_bypass_sphere_check": {
      "type": "boolean",
      "default": false,
      "title": "opt_bypass_sphere_check",
      "description": "ADVANCED: allow the current and new 'spheres' to have arbitrary shape as long as they follow the same contour"
    }
  },
  "additionalProperties": false,
  "required": [
    "metric_in",
    "current_sphere",
    "new_sphere",
    "method",
    "metric_out"
  ]
}