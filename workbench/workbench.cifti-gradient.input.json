{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "cifti-gradient",
  "description": "TAKE GRADIENT OF A CIFTI FILE.\n\nPerforms gradient calculation on each component of the cifti file, and optionally averages the resulting gradients.  The -vectors and -average-output options may not be used together.  You must specify a surface for each surface structure in the cifti file.  The COLUMN direction should be faster, and is the direction that works on dtseries.  For dconn, you probably want ROW, unless you are using -average-output.\n\nThe <structure> argument to -surface must be one of the following strings:\n\nCORTEX_LEFT\nCORTEX_RIGHT\nCEREBELLUM\nACCUMBENS_LEFT\nACCUMBENS_RIGHT\nALL_GREY_MATTER\nALL_WHITE_MATTER\nAMYGDALA_LEFT\nAMYGDALA_RIGHT\nBRAIN_STEM\nCAUDATE_LEFT\nCAUDATE_RIGHT\nCEREBELLAR_WHITE_MATTER_LEFT\nCEREBELLAR_WHITE_MATTER_RIGHT\nCEREBELLUM_LEFT\nCEREBELLUM_RIGHT\nCEREBRAL_WHITE_MATTER_LEFT\nCEREBRAL_WHITE_MATTER_RIGHT\nCORTEX\nDIENCEPHALON_VENTRAL_LEFT\nDIENCEPHALON_VENTRAL_RIGHT\nHIPPOCAMPUS_LEFT\nHIPPOCAMPUS_RIGHT\nHIPPOCAMPUS_DENTATE_LEFT\nHIPPOCAMPUS_DENTATE_RIGHT\nINVALID\nOTHER\nOTHER_GREY_MATTER\nOTHER_WHITE_MATTER\nPALLIDUM_LEFT\nPALLIDUM_RIGHT\nPUTAMEN_LEFT\nPUTAMEN_RIGHT\nTHALAMUS_LEFT\nTHALAMUS_RIGHT",
  "type": "object",
  "properties": {
    "@type": {
      "const": "workbench/cifti-gradient"
    },
    "cifti": {
      "type": "string",
      "x-styx-type": "file",
      "description": "the input cifti"
    },
    "direction": {
      "type": "string",
      "description": "which dimension to take the gradient along, ROW or COLUMN"
    },
    "cifti-out": {
      "type": "string",
      "description": "the output cifti"
    },
    "left-surface": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "left-surface"
            },
            "surface": {
              "type": "string",
              "x-styx-type": "file",
              "description": "the left surface file"
            },
            "area-metric": {
              "anyOf": [
                {
                  "type": "string",
                  "x-styx-type": "file"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "vertex areas to use instead of computing them from the left surface\n\nthe corrected vertex areas, as a metric"
            }
          },
          "additionalProperties": false,
          "description": "specify the left surface to use",
          "required": [
            "surface"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "specify the left surface to use"
    },
    "right-surface": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "right-surface"
            },
            "surface": {
              "type": "string",
              "x-styx-type": "file",
              "description": "the right surface file"
            },
            "area-metric": {
              "anyOf": [
                {
                  "type": "string",
                  "x-styx-type": "file"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "vertex areas to use instead of computing them from the right surface\n\nthe corrected vertex areas, as a metric"
            }
          },
          "additionalProperties": false,
          "description": "specify the right surface to use",
          "required": [
            "surface"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "specify the right surface to use"
    },
    "cerebellum-surface": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "cerebellum-surface"
            },
            "surface": {
              "type": "string",
              "x-styx-type": "file",
              "description": "the cerebellum surface file"
            },
            "area-metric": {
              "anyOf": [
                {
                  "type": "string",
                  "x-styx-type": "file"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "vertex areas to use instead of computing them from the cerebellum surface\n\nthe corrected vertex areas, as a metric"
            }
          },
          "additionalProperties": false,
          "description": "specify the cerebellum surface to use",
          "required": [
            "surface"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "specify the cerebellum surface to use"
    },
    "vectors": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "vectors"
            },
            "vectors-out": {
              "type": "string",
              "description": "the vectors, as a dscalar file"
            }
          },
          "additionalProperties": false,
          "description": "output gradient vectors",
          "required": [
            "vectors-out"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "output gradient vectors"
    },
    "surface": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "@type": {
                "const": "surface"
              },
              "structure": {
                "type": "string",
                "description": "the surface structure name"
              },
              "surface": {
                "type": "string",
                "x-styx-type": "file",
                "description": "the surface file"
              },
              "area-metric": {
                "anyOf": [
                  {
                    "type": "string",
                    "x-styx-type": "file"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "vertex areas to use instead of computing them from the surface\n\nthe corrected vertex areas, as a metric"
              }
            },
            "additionalProperties": false,
            "description": "specify a surface by structure name",
            "required": [
              "structure",
              "surface"
            ]
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "specify a surface by structure name"
    },
    "volume-kernel": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "smooth on the surface before computing the gradient\n\nthe size of the gaussian volume smoothing kernel in mm, as sigma by default"
    },
    "surface-kernel": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "smooth on the surface before computing the gradient\n\nthe size of the gaussian surface smoothing kernel in mm, as sigma by default"
    },
    "average-output": {
      "type": "boolean",
      "default": false,
      "description": "output the average of the gradient magnitude maps instead of each gradient map separately"
    },
    "presmooth-fwhm": {
      "type": "boolean",
      "default": false,
      "description": "smoothing kernel sizes are FWHM, not sigma"
    }
  },
  "additionalProperties": false,
  "required": [
    "cifti",
    "direction",
    "cifti-out",
    "@type"
  ]
}