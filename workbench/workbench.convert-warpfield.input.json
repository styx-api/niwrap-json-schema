{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "CONVERT A WARPFIELD BETWEEN CONVENTIONS.\n\nNIFTI world warpfields can be used directly on mm coordinates via sampling the three subvolumes at the coordinate and adding the sampled values to the coordinate vector.  They use the NIFTI coordinate system, that is, X is left to right, Y is posterior to anterior, and Z is inferior to superior.\n\nNOTE: this command does not invert the warpfield, and to warp a surface, you must use the inverse of the warpfield that warps the corresponding volume.\n\nThe ITK format is used by ANTS.\n\nYou must specify exactly one -from option, but you may specify multiple -to options, and -to-fnirt may be specified more than once.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "workbench/convert-warpfield"
    },
    "from-world": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "from-world"
            },
            "input": {
              "type": "string",
              "description": "the input warpfield"
            },
            "absolute": {
              "type": "boolean",
              "default": false,
              "description": "warpfield was written in absolute convention, rather than relative"
            }
          },
          "additionalProperties": false,
          "description": "input is a NIFTI 'world' warpfield",
          "required": [
            "input"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "input is a NIFTI 'world' warpfield"
    },
    "input": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "input is an ITK warpfield\n\nthe input warpfield"
    },
    "from-fnirt": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "from-fnirt"
            },
            "input": {
              "type": "string",
              "description": "the input warpfield"
            },
            "source-volume": {
              "type": "string",
              "description": "the source volume used when generating the input warpfield"
            },
            "absolute": {
              "type": "boolean",
              "default": false,
              "description": "warpfield was written in absolute convention, rather than relative"
            }
          },
          "additionalProperties": false,
          "description": "input is a fnirt warpfield",
          "required": [
            "input",
            "source-volume"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "input is a fnirt warpfield"
    },
    "output": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "write output as an ITK warpfield\n\noutput - the output warpfield"
    },
    "to-fnirt": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "@type": {
                "const": "to-fnirt"
              },
              "output": {
                "type": "string",
                "description": "output - the output warpfield"
              },
              "source-volume": {
                "type": "string",
                "description": "the volume you want to apply the warpfield to"
              }
            },
            "additionalProperties": false,
            "description": "write output as a fnirt warpfield",
            "required": [
              "output",
              "source-volume"
            ]
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "write output as a fnirt warpfield"
    }
  },
  "additionalProperties": false,
  "required": [
    "@type"
  ]
}