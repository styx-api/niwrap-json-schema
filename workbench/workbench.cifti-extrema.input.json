{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "FIND EXTREMA IN A CIFTI FILE.\n\nFinds spatial locations in a cifti file that have more extreme values than all nearby locations in the same component (surface or volume structure).  The input cifti file must have a brain models mapping along the specified direction.  COLUMN is the direction that works on dtseries and dscalar.  For dconn, if it is symmetric use COLUMN, otherwise use ROW.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "workbench/cifti-extrema"
    },
    "cifti-out": {
      "type": "string",
      "description": "the output cifti"
    },
    "surface": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "specify the cerebellum surface to use\n\nthe cerebellum surface file"
    },
    "surface-kernel": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "smooth on the surface before finding extrema\n\nthe size of the gaussian surface smoothing kernel in mm, as sigma by default"
    },
    "volume-kernel": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "smooth volume components before finding extrema\n\nthe size of the gaussian volume smoothing kernel in mm, as sigma by default"
    },
    "presmooth-fwhm": {
      "type": "boolean",
      "default": false,
      "description": "smoothing kernel distances are FWHM, not sigma"
    },
    "threshold": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": "threshold"
            },
            "low": {
              "type": "number",
              "description": "the largest value to consider for being a minimum"
            },
            "high": {
              "type": "number",
              "description": "the smallest value to consider for being a maximum"
            }
          },
          "additionalProperties": false,
          "description": "ignore small extrema",
          "required": [
            "low",
            "high"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "ignore small extrema"
    },
    "merged-volume": {
      "type": "boolean",
      "default": false,
      "description": "treat volume components as if they were a single component"
    },
    "sum-maps": {
      "type": "boolean",
      "default": false,
      "description": "output the sum of the extrema maps instead of each map separately"
    },
    "consolidate-mode": {
      "type": "boolean",
      "default": false,
      "description": "use consolidation of local minima instead of a large neighborhood"
    },
    "only-maxima": {
      "type": "boolean",
      "default": false,
      "description": "only find the maxima"
    },
    "only-minima": {
      "type": "boolean",
      "default": false,
      "description": "only find the minima"
    },
    "cifti": {
      "type": "string",
      "x-styx-type": "file",
      "description": "the input cifti"
    },
    "surface-distance": {
      "type": "number",
      "description": "the minimum distance between extrema of the same type, for surface components"
    },
    "volume-distance": {
      "type": "number",
      "description": "the minimum distance between extrema of the same type, for volume components"
    },
    "direction": {
      "type": "string",
      "description": "which dimension to find extrema along, ROW or COLUMN"
    }
  },
  "additionalProperties": false,
  "required": [
    "cifti-out",
    "cifti",
    "surface-distance",
    "volume-distance",
    "direction",
    "@type"
  ]
}