{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Convert sets of DWIs in DICOM format into 'nicer' volume+grad format, reorient volumetric data, and glue together multiple sessions/directories of data.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.fat_proc_convert_dcm_dwis"
    },
    "dicom_dir": {
      "type": "string",
      "title": "Input DICOM Directory",
      "description": "Directory of DICOM files of the DWI data with 'AP' phase encoding. Can contain a wildcard expression for several directories."
    },
    "output_prefix": {
      "type": "string",
      "title": "Output Prefix",
      "description": "Prefix (and path) for output data (e.g., *.nii.gz, *.bvec, *.bval files). Required."
    },
    "nifti_files": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "NIFTI Files",
      "description": "One or more NIFTI files of DWIs."
    },
    "bvec_files": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "bvec Files",
      "description": "One or more row-wise, gradient (unit-magnitude) files (e.g., *.bvec)."
    },
    "bval_files": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "bval Files",
      "description": "One or more bvalue files (e.g., *.bval)."
    },
    "work_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Working Directory",
      "description": "Optional working directory for intermediate files."
    },
    "orientation": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Orientation",
      "description": "Optional chance to reset orientation of the volume files (default is currently 'RAI')."
    },
    "origin_xyz": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Origin XYZ",
      "description": "Explicit origin coordinates (X, Y, Z)."
    },
    "flip_x": {
      "type": "boolean",
      "default": false,
      "title": "Flip X",
      "description": "Flip gradients along the X-axis."
    },
    "flip_y": {
      "type": "boolean",
      "default": false,
      "title": "Flip Y",
      "description": "Flip gradients along the Y-axis."
    },
    "flip_z": {
      "type": "boolean",
      "default": false,
      "title": "Flip Z",
      "description": "Flip gradients along the Z-axis."
    },
    "no_flip": {
      "type": "boolean",
      "default": false,
      "title": "No Flip",
      "description": "Prevent flipping of gradients (default)."
    },
    "qc_prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "QC Prefix",
      "description": "Set the prefix for QC image files separately (default is '')."
    },
    "reorient_off": {
      "type": "boolean",
      "default": false,
      "title": "Reorient Off",
      "description": "Turn off reorigin calculation and reorientation."
    },
    "no_clean": {
      "type": "boolean",
      "default": false,
      "title": "No Clean",
      "description": "Do not remove the working directory of intermediate files (default is to delete it)."
    },
    "no_cmd_out": {
      "type": "boolean",
      "default": false,
      "title": "No Cmd Out",
      "description": "Do not save the command line call and location where it was run."
    },
    "no_qc_view": {
      "type": "boolean",
      "default": false,
      "title": "No QC View",
      "description": "Do not generate QC image files."
    },
    "do_movie": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Create Movie",
      "description": "Generate a movie of the newly created dataset (AGIF or MPEG)."
    }
  },
  "additionalProperties": false,
  "required": [
    "dicom_dir",
    "output_prefix"
  ]
}