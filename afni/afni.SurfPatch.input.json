{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "SurfPatch",
  "description": "Creates a patch of surface formed by nodes in a nodefile and optionally calculates the volume between the same patch on two isotopic surfaces.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/SurfPatch"
    },
    "spec_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Spec File",
      "description": "Spec file containing input surfaces"
    },
    "surf_A": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Surface A",
      "description": "Input surface A"
    },
    "surf_B": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Surface B",
      "description": "Input surface B"
    },
    "nodefile": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Node File",
      "description": "File containing nodes defining the patch"
    },
    "inode": {
      "type": "number",
      "title": "Node Column Index",
      "description": "Index of the column containing the nodes"
    },
    "ilabel": {
      "type": "number",
      "title": "Label Column Index",
      "description": "Index of the column containing labels of the nodes in column inode"
    },
    "prefix": {
      "type": "string",
      "title": "Output Prefix",
      "description": "Prefix of output patch"
    },
    "hits": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum Hits",
      "description": "Minimum number of nodes specified for a triangle to be made a part of the patch (1 <= min_hits <= 3); default is 2"
    },
    "masklabel": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask Label",
      "description": "Only nodes that are labeled with this label are considered for the patch"
    },
    "vol": {
      "type": "boolean",
      "default": false,
      "title": "Calculate Volume",
      "description": "Calculate the volume formed by the patch on surf_A and surf_B. Requires only two surfaces specified with surf_A and surf_B."
    },
    "vol_only": {
      "type": "boolean",
      "default": false,
      "title": "Volume Only",
      "description": "Only calculate the volume, don't write out patches."
    },
    "patch2surf": {
      "type": "boolean",
      "default": false,
      "title": "Patch to Surface",
      "description": "Turn surface patch into a surface where only nodes used in forming the mesh are preserved."
    },
    "coord_gain": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Coordinate Gain",
      "description": "Multiply node coordinates by a gain. Useful for enlarging tiny patches for easier viewing in SUMA."
    },
    "check_bowtie": {
      "type": "boolean",
      "default": false,
      "title": "Check Bowtie",
      "description": "Check if the patch has a section hanging by one node to the rest of the mesh. Default when -vol or -vol_only are used."
    },
    "fix_bowtie": {
      "type": "boolean",
      "default": false,
      "title": "Fix Bowtie",
      "description": "Modify patch to eliminate bowties."
    },
    "ok_bowtie": {
      "type": "boolean",
      "default": false,
      "title": "OK Bowtie",
      "description": "Do not check for, or fix bowties. Default when -vol* are not used."
    },
    "adjust_contour": {
      "type": "boolean",
      "default": false,
      "title": "Adjust Contour",
      "description": "Shrink patch contours at nodes that were not in nodefile."
    },
    "do_not_adjust_contour": {
      "type": "boolean",
      "default": false,
      "title": "Do Not Adjust Contour",
      "description": "Do not adjust contours. This is the default."
    },
    "stitched_surface": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stitched Surface",
      "description": "Write out the stitched surface used to calculate the volume."
    },
    "flip_orientation": {
      "type": "boolean",
      "default": false,
      "title": "Flip Orientation",
      "description": "Change orientation of triangles before writing surfaces."
    },
    "verbosity": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Verbosity Level",
      "description": "Set verbosity level, 1 is the default."
    }
  },
  "additionalProperties": false,
  "required": [
    "spec_file",
    "surf_A",
    "surf_B",
    "nodefile",
    "inode",
    "ilabel",
    "prefix",
    "@type"
  ]
}