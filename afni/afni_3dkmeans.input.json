{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "3dkmeans",
  "description": "3d+t Clustering segmentation based on The C clustering library.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/3dkmeans"
    },
    "version": {
      "type": "boolean",
      "default": false,
      "title": "Version information"
    },
    "input": {
      "type": "array",
      "items": {
        "type": "string",
        "x-styx-type": "file"
      },
      "title": "Input data files",
      "description": "Input data to be clustered. You can specify multiple filenames in sequence and they will be concatenated internally."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask dataset",
      "description": "Dataset to be used as a mask; only voxels with nonzero values in 'mset' will be used."
    },
    "mask_range": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask range",
      "description": "Restrict the voxels from 'mset' to only those mask values between 'a' and 'b' (inclusive)."
    },
    "cmask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Custom mask options",
      "description": "Execute the options enclosed in single quotes as a 3dcalc-like program to produce a mask from the resulting 3D brick."
    },
    "jobname": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output job name",
      "description": "Specify a different name for the output files. Default is derived from the input file name."
    },
    "prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output prefix",
      "description": "Specify a prefix for the output volumes. Default is the same as jobname."
    },
    "distance_measure": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Distance measure for clustering",
      "description": "Specifies distance measure for clustering. Supported values: 0 (No clustering), 1 (Uncentered correlation distance), 2 (Pearson distance), 3 (Uncentered correlation distance, absolute value), 4 (Pearson distance, absolute value), 5 (Spearman's rank distance), 6 (Kendall's distance), 7 (Euclidean distance), 8 (City-block distance)."
    },
    "num_clusters": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of clusters",
      "description": "Specify number of clusters."
    },
    "remap_method": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Remap method",
      "description": "Reassign clusters numbers based on METHOD: NONE (default), COUNT, iCOUNT, MAG, iMAG."
    },
    "labeltable": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Label table file",
      "description": "Attach labeltable to clustering output."
    },
    "clabels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cluster labels",
      "description": "Provide a label for each cluster. Labels cannot start with '-'."
    },
    "clust_init": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cluster initialization dataset",
      "description": "Specify a dataset to initialize clustering. If provided, sets -r 0."
    },
    "num_repeats": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of k-means runs",
      "description": "Number of times the k-means clustering algorithm is run."
    },
    "rsigs": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Signatures file",
      "description": "Calculate distances from each voxel's signature to the signatures in this multi-column file. No clustering done."
    },
    "verbose": {
      "type": "boolean",
      "default": false,
      "title": "Verbose",
      "description": "Enable verbose mode."
    },
    "write_dists": {
      "type": "boolean",
      "default": false,
      "title": "Write distances",
      "description": "Output text files containing various distance measures."
    },
    "voxdbg": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Voxel debugging",
      "description": "Output debugging info for specified voxel (I J K)."
    },
    "seed": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Random seed",
      "description": "Seed for the random number generator. Default is 1234567."
    }
  },
  "additionalProperties": false,
  "required": [
    "input"
  ]
}