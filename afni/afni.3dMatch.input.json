{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "3dMatch",
  "description": "Find similar subbricks and rearrange order to ease comparison. Part of FATCAT in AFNI.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/3dMatch"
    },
    "inset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input file to match",
      "description": "File with M subbricks of data to match against another file."
    },
    "refset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Reference file",
      "description": "File with N subbricks, serving as a reference for INPUT_FILE."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask file",
      "description": "A mask of regions to include in the correlation of datasets."
    },
    "in_min": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input minimum threshold",
      "description": "Threshold below which values in INPUT_FILE will be zeroed during analysis."
    },
    "in_max": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input maximum threshold",
      "description": "Threshold above which values in INPUT_FILE will be zeroed during analysis."
    },
    "ref_min": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Reference minimum threshold",
      "description": "Threshold below which values in REF_FILE will be zeroed during analysis."
    },
    "ref_max": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Reference maximum threshold",
      "description": "Threshold above which values in REF_FILE will be zeroed during analysis."
    },
    "prefix": {
      "type": "string",
      "title": "Output prefix",
      "description": "Prefix for output name for BRIK/HEAD files and *_coeff.vals text files."
    },
    "only_dice_thr": {
      "type": "boolean",
      "default": false,
      "title": "Only Dice threshold flag",
      "description": "Apply thresholding only during Dice evaluation, not during spatial correlation."
    }
  },
  "additionalProperties": false,
  "required": [
    "inset",
    "refset",
    "prefix",
    "@type"
  ]
}