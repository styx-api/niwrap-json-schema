{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "3dReHo calculates Kendall's W per voxel using neighborhood voxels from 4D time series data set.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dReHo"
    },
    "prefix": {
      "type": "string",
      "title": "Prefix",
      "description": "Output file name part."
    },
    "inset": {
      "type": "string",
      "title": "Input Time Series File",
      "description": "Time series input file."
    },
    "nneigh": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Neighborhood Voxel Count",
      "description": "Number of voxels in neighborhood, inclusive; can be 7 (for facewise neighbors), 19 (for face- and edge-wise neighbors), 27 (for face-, edge-, and node-wise neighbors). Default is 27."
    },
    "chi_sq": {
      "type": "boolean",
      "default": false,
      "title": "Friedman Chi-Square Output Flag",
      "description": "Switch to output Friedman chi-square value per voxel as a subbrick."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask File",
      "description": "Include a whole brain mask within which to calculate ReHo. Otherwise, data should be masked already."
    },
    "neigh_rad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Neighborhood Radius",
      "description": "Radius R of a desired neighborhood for voxelwise control, must be a floating point number >1. Examples: R=2.0 -> V=33, R=2.3 -> V=57, etc."
    },
    "neigh_x": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Neighborhood Semi-radius X",
      "description": "Semi-radius length A for ellipsoidal neighborhood."
    },
    "neigh_y": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Neighborhood Semi-radius Y",
      "description": "Semi-radius length B for ellipsoidal neighborhood."
    },
    "neigh_z": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Neighborhood Semi-radius Z",
      "description": "Semi-radius length C for ellipsoidal neighborhood."
    },
    "box_rad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cubic Box Radius",
      "description": "Cubic box radius BR centered on a given voxel for neighborhood control. Examples: BR=1 -> V=27, BR=2 -> V=125, etc."
    },
    "box_x": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Box Volume X",
      "description": "Box volume neighborhood dimension X. Values put in get added in the +/- directions of each axis."
    },
    "box_y": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Box Volume Y",
      "description": "Box volume neighborhood dimension Y. Values put in get added in the +/- directions of each axis."
    },
    "box_z": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Box Volume Z",
      "description": "Box volume neighborhood dimension Z. Values put in get added in the +/- directions of each axis."
    },
    "in_rois": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "ROIs Input File",
      "description": "Input a set of ROIs, each labeled with distinct integers. ReHo will be calculated per ROI."
    }
  },
  "additionalProperties": false,
  "required": [
    "prefix",
    "inset"
  ]
}