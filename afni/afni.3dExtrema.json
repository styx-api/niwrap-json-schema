{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Find local extrema (minima or maxima) in 3D datasets.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dExtrema"
    },
    "input_dataset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Dataset",
      "description": "Input dataset (e.g. dataset+tlrc'[sub-brick]')"
    },
    "output_prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Prefix",
      "description": "Prefix for the output dataset name."
    },
    "output_session": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Session Directory",
      "description": "Directory for the output dataset session."
    },
    "quiet": {
      "type": "boolean",
      "default": false,
      "title": "Quiet Flag",
      "description": "Suppress screen output."
    },
    "mask_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask File",
      "description": "Mask statistic from file."
    },
    "mask_threshold": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask Threshold",
      "description": "Only voxels whose mask statistic is >= m in absolute value will be considered."
    },
    "data_threshold": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Data Threshold",
      "description": "Only voxels whose value (intensity) is greater than d in absolute value will be considered."
    },
    "n_best": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Extrema",
      "description": "Only print the first N extrema."
    },
    "separation_distance": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Separation Distance",
      "description": "Minimum separation distance (in mm) for distinct extrema."
    },
    "minima": {
      "type": "boolean",
      "default": false,
      "title": "Minima Flag",
      "description": "Find local minima."
    },
    "maxima": {
      "type": "boolean",
      "default": false,
      "title": "Maxima Flag",
      "description": "Find local maxima (default)."
    },
    "strict": {
      "type": "boolean",
      "default": false,
      "title": "Strict Flag",
      "description": "Use strict inequality for extrema (default)."
    },
    "partial": {
      "type": "boolean",
      "default": false,
      "title": "Partial Flag",
      "description": "Use partial inequality for extrema."
    },
    "interior": {
      "type": "boolean",
      "default": false,
      "title": "Interior Flag",
      "description": "Extrema must be interior points (default)."
    },
    "closure": {
      "type": "boolean",
      "default": false,
      "title": "Closure Flag",
      "description": "Extrema may be boundary points."
    },
    "slice": {
      "type": "boolean",
      "default": false,
      "title": "Slice Flag",
      "description": "Consider each slice separately (default)."
    },
    "volume": {
      "type": "boolean",
      "default": false,
      "title": "Volume Flag",
      "description": "Consider the volume as a whole."
    },
    "remove": {
      "type": "boolean",
      "default": false,
      "title": "Remove Flag",
      "description": "Remove all but strongest of neighboring extrema (default)."
    },
    "average": {
      "type": "boolean",
      "default": false,
      "title": "Average Flag",
      "description": "Replace neighboring extrema by average."
    },
    "weight": {
      "type": "boolean",
      "default": false,
      "title": "Weighted Average Flag",
      "description": "Replace neighboring extrema by weighted average."
    }
  },
  "additionalProperties": false,
  "required": [
    "input_dataset"
  ]
}