{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "make_random_timing.py",
  "description": "Create random stimulus timing files for use with AFNI 3dDeconvolve.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/make_random_timing.py"
    },
    "num_runs": {
      "type": "number",
      "minimum": 1,
      "title": "Number of Runs",
      "description": "Set the number of runs."
    },
    "run_time": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "title": "Run Time (seconds)",
      "description": "Set the total time per run (in seconds)."
    },
    "num_stim": {
      "type": "number",
      "minimum": 1,
      "title": "Number of Stimulus Classes",
      "description": "Set the number of stimulus classes."
    },
    "num_reps": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "title": "Number of Repetitions",
      "description": "Set the number of repetitions per class (or across runs)."
    },
    "prefix": {
      "type": "string",
      "title": "Output Filename Prefix",
      "description": "Set the prefix for output filenames."
    },
    "stim_dur": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus Duration",
      "description": "Set the duration for a single stimulus (in seconds)."
    },
    "across_runs": {
      "type": "boolean",
      "default": false,
      "title": "Distribute Stimuli Across Runs",
      "description": "Distribute stimuli across all runs at once."
    },
    "max_consec": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Maximum Consecutive Stimuli",
      "description": "Specify maximum consecutive stimuli per class."
    },
    "max_rest": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Maximum Rest",
      "description": "Specify maximum rest between stimuli."
    },
    "min_rest": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum Rest",
      "description": "Specify extra rest after each stimulus."
    },
    "not_first": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Classes Not to Start a Run",
      "description": "Specify classes that should not start a run."
    },
    "not_last": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Classes Not to End a Run",
      "description": "Specify classes that should not end a run."
    },
    "offset": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Time Offset",
      "description": "Specify an offset to add to every stim time."
    },
    "ordered_stimuli": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Ordered Stimuli",
      "description": "Specify a partial ordering of stimuli."
    },
    "pre_stim_rest": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Pre-Stimulus Rest",
      "description": "Specify minimum rest period to start each run."
    },
    "post_stim_rest": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Post-Stimulus Rest",
      "description": "Specify minimum rest period to end each run."
    },
    "save_3dd_cmd": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Save 3dDeconvolve Command",
      "description": "Save a 3dDeconvolve -nodata example."
    },
    "seed": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Random Seed",
      "description": "Specify a seed for random number generation."
    },
    "stim_labels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus Labels",
      "description": "Specify labels for the stimulus classes."
    },
    "t_digits": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Decimal Places for Times",
      "description": "Set the number of decimal places for times."
    },
    "t_gran": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Time Granularity",
      "description": "Set the time granularity."
    },
    "tr": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Scanner TR",
      "description": "Set the scanner TR."
    },
    "tr_locked": {
      "type": "boolean",
      "default": false,
      "title": "TR-Locked",
      "description": "Make stimuli timing locked to the accompanying TR."
    },
    "verb": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Verbose Level",
      "description": "Set the verbose level."
    },
    "show_timing_stats": {
      "type": "boolean",
      "default": false,
      "title": "Show Timing Statistics",
      "description": "Show statistics from the timing."
    }
  },
  "additionalProperties": false,
  "required": [
    "num_runs",
    "run_time",
    "num_stim",
    "num_reps",
    "prefix",
    "@type"
  ]
}