{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "@SSwarper",
  "description": "Dual purposes for processing a given subject's anatomical volume: skull-strip the brain and calculate the warp to a reference template/standard space.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/@SSwarper"
    },
    "input_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input anatomical dataset",
      "description": "An anatomical dataset, not skull-stripped, with about 1 mm resolution."
    },
    "base_template": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Base template dataset",
      "description": "A base template dataset with similar contrast to the input dataset."
    },
    "subject_id": {
      "type": "string",
      "title": "Subject ID",
      "description": "Name code for output datasets (e.g., 'sub007')."
    },
    "output_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output directory",
      "description": "Output directory for all files from this program."
    },
    "min_patch_size": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum patch size",
      "description": "Minimum patch size on final 3dQwarp."
    },
    "no_lite": {
      "type": "boolean",
      "default": false,
      "title": "No lite",
      "description": "Do not use the '-lite' option with 3dQwarp."
    },
    "skip_warp": {
      "type": "boolean",
      "default": false,
      "title": "Skip warp",
      "description": "Do not compute past the output of anatSS.<subid>.nii."
    },
    "unifize_off": {
      "type": "boolean",
      "default": false,
      "title": "Unifize off",
      "description": "Do not start with a 3dUnifize command."
    },
    "init_skullstr_off": {
      "type": "boolean",
      "default": false,
      "title": "Init skullstrip off",
      "description": "Do not preprocess with a 3dSkullstrip command."
    },
    "extra_qc_off": {
      "type": "boolean",
      "default": false,
      "title": "Extra QC off",
      "description": "Do not make extra QC images."
    },
    "jump_to_extra_qc": {
      "type": "boolean",
      "default": false,
      "title": "Jump to extra QC",
      "description": "Just make the two QC*jpg images from a previous run."
    },
    "cost_nl_init": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial nonlinear alignment cost function",
      "description": "Specify cost function for initial nonlinear (3dQwarp) part of alignment."
    },
    "cost_nl_final": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Final nonlinear alignment cost function",
      "description": "Specify cost function for final nonlinear (3dQwarp) parts of alignment."
    },
    "deoblique": {
      "type": "boolean",
      "default": false,
      "title": "Deoblique",
      "description": "Apply obliquity information to deoblique the input volume."
    },
    "deoblique_refitly": {
      "type": "boolean",
      "default": false,
      "title": "Deoblique refitly",
      "description": "Purge obliquity information to deoblique the input volume."
    },
    "warp_scale": {
      "anyOf": [
        {
          "type": "number",
          "minimum": 0.1,
          "maximum": 1.0
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Warp scale",
      "description": "Control flexibility of warps in 3dQwarp."
    },
    "ssopt_flag": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "3dSkullStrip options",
      "description": "Append a string of options for 3dSkullStrip."
    },
    "aniso_off": {
      "type": "boolean",
      "default": false,
      "title": "Aniso off",
      "description": "Do not preprocess with a 3danisosmooth command."
    },
    "ceil_off": {
      "type": "boolean",
      "default": false,
      "title": "Ceil off",
      "description": "Turn off capping on values after anisosmoothing."
    },
    "tmp_name_nice": {
      "type": "boolean",
      "default": false,
      "title": "Temporary file naming",
      "description": "Use nicer, non-random intermediate file prefix for temporary files."
    },
    "echo": {
      "type": "boolean",
      "default": false,
      "title": "Echo flag",
      "description": "Run the script with 'set echo' for extra verbosity in the terminal output."
    },
    "verbose": {
      "type": "boolean",
      "default": false,
      "title": "Verbose flag",
      "description": "Apply the '-verb' option to 3dQwarp for verbose progress information."
    },
    "noclean": {
      "type": "boolean",
      "default": false,
      "title": "No clean flag",
      "description": "Do not delete the 'junk' files at the end of computations."
    }
  },
  "additionalProperties": false,
  "required": [
    "input_file",
    "base_template",
    "subject_id"
  ]
}