{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "This program generates a 'unifized' output volume by estimating the median in the local neighborhood of each voxel and using that to scale each voxel's brightness.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dLocalUnifize"
    },
    "input": {
      "type": "string",
      "title": "Input dataset",
      "description": "Input dataset"
    },
    "output": {
      "type": "string",
      "title": "Output dataset name",
      "description": "Output dataset name, including path"
    },
    "working_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Working directory name",
      "description": "Name of temporary working directory (def: __wdir_LocalUni_, plus a random alphanumeric str)"
    },
    "echo": {
      "type": "boolean",
      "default": false,
      "title": "Verbose mode",
      "description": "Run this program very verbosely (default: false)"
    },
    "no_clean": {
      "type": "boolean",
      "default": false,
      "title": "Do not remove working directory",
      "description": "Do not remove the working directory (default: remove it)"
    },
    "local_rad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Local radius",
      "description": "The spherical neighborhood's radius for the 3dLocalStat step (default: -3)"
    },
    "local_perc": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Local percentile",
      "description": "The percentile used in the 3dLocalStat step, generating the scaling volume (default: 50)"
    },
    "local_mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Local mask",
      "description": "Provide the masking option for the 3dLocalStat step; to remove any masking, put 'None' as the option value (default: \"-automask\")"
    },
    "filter_thr": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Filter threshold",
      "description": "Ceiling on values in the final, scaled dataset; values <=0 turn off this final filtering (default: 1.5)"
    }
  },
  "additionalProperties": false,
  "required": [
    "input",
    "output"
  ]
}