{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "3dDeconvolve",
  "description": "Program to calculate the deconvolution of a measurement 3D+time dataset with a specified input stimulus time series.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/3dDeconvolve"
    },
    "input_dataset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Dataset",
      "description": "Filename of 3D+time input dataset."
    },
    "mask_dataset": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask Dataset",
      "description": "Filename of 3D mask dataset."
    },
    "num_stimts": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Stimulus Time Series",
      "description": "Number of input stimulus time series."
    },
    "stim_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus File",
      "description": "Filename of kth time series input stimulus."
    },
    "stim_label": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus Label",
      "description": "Label for kth input stimulus."
    },
    "stim_base": {
      "type": "boolean",
      "default": false,
      "title": "Stimulus Baseline",
      "description": "Kth input stimulus is part of the baseline model."
    },
    "stim_times": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus Times",
      "description": "Deconvolution response model for kth stimulus."
    },
    "iresp": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Estimated Impulse Response",
      "description": "Prefix for 3D+time output dataset which will contain the kth estimated impulse response."
    },
    "fitts": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fitted Time Series",
      "description": "Prefix for 3D+time output dataset which will contain the (full model) time series fit to the input data."
    },
    "fout": {
      "type": "boolean",
      "default": false,
      "title": "Output F-Statistics",
      "description": "Flag to output the F-statistics for each stimulus."
    },
    "tout": {
      "type": "boolean",
      "default": false,
      "title": "Output T-Statistics",
      "description": "Flag to output the t-statistics."
    },
    "bucket": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Bucket Dataset",
      "description": "Create one AFNI 'bucket' dataset containing various parameters of interest."
    },
    "cbucket": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Coefficient Bucket",
      "description": "Save the regression coefficients (no statistics) into a dataset."
    },
    "x1D": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "X-Matrix Output",
      "description": "Save X matrix to a .xmat.1D (ASCII) file."
    },
    "jobs": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Jobs",
      "description": "Run the program with multiple jobs (sub-processes)."
    }
  },
  "additionalProperties": false,
  "required": [
    "input_dataset"
  ]
}