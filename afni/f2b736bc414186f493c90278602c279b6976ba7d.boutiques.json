{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Compute statistics between 2 datasets at each voxel based on a local neighborhood.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "3dLocalBistat"
    },
    "nbhd": {
      "type": "string",
      "title": "Neighborhood",
      "description": "Specifies the neighborhood around each voxel for statistics calculation. Types include: SPHERE(r), RECT(a,b,c), RHDD(r), TOHD(r)"
    },
    "stats": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Statistics",
      "description": "Statistic to compute in the region around each voxel. Multiple options allowed. Includes: pearson, spearman, quadrant, mutinfo, normuti, jointent, hellinger, crU, crM, crA, L2slope, L1slope, num, ALL."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask",
      "description": "Read in a dataset to use as a mask. Non-zero voxels define the mask region."
    },
    "automask": {
      "type": "boolean",
      "default": false,
      "title": "Automatic mask",
      "description": "Compute the mask as in program 3dAutomask. Mutually exclusive with -mask."
    },
    "weight": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Weight",
      "description": "Use dataset as a weight (applies to pearson)."
    },
    "prefix": {
      "type": "string",
      "title": "Output Prefix",
      "description": "Prefix of the output dataset."
    },
    "histpow": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Histogram Power",
      "description": "Sets the exponent for the number of bins in the histogram used for Hellinger, Mutual Information, and Correlation Ratio statistics."
    },
    "histbin": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Histogram Bins",
      "description": "Sets the number of bins directly in the histogram used for Hellinger, Mutual Information, and Correlation Ratio statistics."
    },
    "hclip1": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Clip Dataset 1",
      "description": "Clip dataset1 to lie between specified values."
    },
    "hclip2": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Clip Dataset 2",
      "description": "Clip dataset2 to lie between specified values."
    },
    "dataset1": {
      "type": "string",
      "title": "Dataset 1",
      "description": "The first input dataset (e.g. data1.nii)"
    },
    "dataset2": {
      "type": "string",
      "title": "Dataset 2",
      "description": "The second input dataset (e.g. data2.nii)"
    }
  },
  "additionalProperties": false,
  "required": [
    "nbhd",
    "stats",
    "prefix",
    "dataset1",
    "dataset2"
  ]
}