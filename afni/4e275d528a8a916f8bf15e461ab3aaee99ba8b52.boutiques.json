{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "This script re-faces one input dataset, using a master shell dataset to write over the subject's 'face' region.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.@afni_refacer_run"
    },
    "input_file": {
      "type": "string",
      "title": "Input File",
      "description": "Name of input dataset; can contain path information."
    },
    "mode_deface": {
      "type": "boolean",
      "default": false,
      "title": "Mode Deface",
      "description": "Replace the computed face+ears voxels with all zeros instead of the artificial face (ears are also removed)"
    },
    "mode_reface": {
      "type": "boolean",
      "default": false,
      "title": "Mode Reface",
      "description": "Replace the subject's face+ears with a scaled set of artificial values"
    },
    "mode_reface_plus": {
      "type": "boolean",
      "default": false,
      "title": "Mode Reface Plus",
      "description": "Replace the subject's face+ears+skull with a scaled set of artificial values (i.e., like 'refacing', but replacing a more complete shell around the subject's brain)"
    },
    "mode_all": {
      "type": "boolean",
      "default": false,
      "title": "Mode All",
      "description": "Output three volumes: one defaced, one refaced and one reface_plused"
    },
    "prefix": {
      "type": "string",
      "title": "Output Prefix",
      "description": "Name of output dataset"
    },
    "anonymize_output": {
      "type": "boolean",
      "default": false,
      "title": "Anonymize Output",
      "description": "Use 3drefit and nifti_tool to anonymize the output datasets"
    },
    "cost_function": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cost Function",
      "description": "Specify any cost function that is allowed by 3dAllineate (default: lpa)"
    },
    "shell_option": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Shell Option",
      "description": "Specify which shell to use. Options: afni_refacer_shell_sym_1.0.nii.gz (traditional), afni_refacer_shell_sym_2.0.nii.gz (more face/neck removal). Default: afni_refacer_shell_sym_1.0.nii.gz"
    },
    "no_clean": {
      "type": "boolean",
      "default": false,
      "title": "No Clean",
      "description": "Don't delete temp working directory (default: remove working directory)"
    },
    "no_images": {
      "type": "boolean",
      "default": false,
      "title": "No Images",
      "description": "Don't make pretty images to automatically view the results of re/defacing"
    },
    "overwrite": {
      "type": "boolean",
      "default": false,
      "title": "Overwrite",
      "description": "Final two file outputs will overwrite any existing files of the same name (default: don't do this). NB: this option does not apply to the working directory"
    },
    "verbose": {
      "type": "boolean",
      "default": false,
      "title": "Verbose",
      "description": "Run the 3dAllineate part herein with '-verb' (for verbosity)"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_file",
    "prefix"
  ]
}