{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Calculate edges in an image using the Difference of Gaussians (DOG) method with extensions/tweaks of the Marr-Hildreth algorithm.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dedgedog"
    },
    "input": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input dataset",
      "description": "Input dataset"
    },
    "prefix": {
      "type": "string",
      "title": "Output prefix",
      "description": "Output prefix name"
    },
    "mask": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask dataset",
      "description": "Mask dataset applied after Euclidean Distance Transform calculation"
    },
    "automask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Automask",
      "description": "Calculate mask automatically. Optionally, you can provide an integer X to dilate the initial automask X times (e.g., -automask+X)"
    },
    "sigma_rad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sigma radius",
      "description": "Radius for 'inner' Gaussian, in mm; must be greater than 0 (default: 1.40)"
    },
    "sigma_nvox": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sigma number of voxels",
      "description": "Define radius for 'inner' Gaussian by providing a multiplicative factor for voxel edge length greater than 0 (default: use sigma_rad)"
    },
    "ratio_sigma": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Ratio sigma",
      "description": "Ratio of inner and outer Gaussian sigma values (default: 1.40)"
    },
    "output_intermed": {
      "type": "boolean",
      "default": false,
      "title": "Output intermediates flag",
      "description": "Output intermediate datasets: DOG, EDT2, BLURS (default: not output)"
    },
    "edge_bnd_nn": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Edge boundary NN",
      "description": "Nearest neighbor (NN) value for connectedness of boundaries; must be 1 (face only), 2 (face+edge), or 3 (face+edge+node) (default: 1)"
    },
    "edge_bnd_side": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Edge boundary side",
      "description": "Specify boundary layer to use: NEG, POS, BOTH, BOTH_SIGN (default: NEG)"
    },
    "edge_bnd_scale": {
      "type": "boolean",
      "default": false,
      "title": "Edge boundary scale flag",
      "description": "Scale edge values to have relative magnitude between 0 and 100 (default: edge locations have value=1)"
    },
    "only2d": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Only 2D slice",
      "description": "Calculate edges in 2D per plane specified by SLI: 'axi', 'cor', 'sag'"
    }
  },
  "additionalProperties": false,
  "required": [
    "input",
    "prefix"
  ]
}