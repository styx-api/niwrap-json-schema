{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "3dNetCorr",
  "description": "Compute correlation matrix of a set of ROIs based on mean time series",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dNetCorr"
    },
    "prefix": {
      "type": "string",
      "title": "Prefix",
      "description": "Output file name prefix"
    },
    "inset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input time series file",
      "description": "Time series file (4D data set)"
    },
    "in_rois": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input ROIs file",
      "description": "Input a set of ROIs each labelled with distinct integers. Multiple subbricks can be input, each will be treated as a separate network."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask",
      "description": "Whole brain mask within which to calculate correlation."
    },
    "fish_z": {
      "type": "boolean",
      "default": false,
      "title": "Fisher Z-transform flag",
      "description": "Output Fisher Z-transform matrix along with correlation matrix."
    },
    "part_corr": {
      "type": "boolean",
      "default": false,
      "title": "Partial correlation flag",
      "description": "Output the partial correlation matrix."
    },
    "ts_out": {
      "type": "boolean",
      "default": false,
      "title": "Time series output flag",
      "description": "Output the mean time series of the ROIs."
    },
    "ts_label": {
      "type": "boolean",
      "default": false,
      "title": "Time series label flag",
      "description": "Insert the integer ROI label at the start of each line of the *.netts file created."
    },
    "ts_indiv": {
      "type": "boolean",
      "default": false,
      "title": "Individual time series flag",
      "description": "Create a directory for each network that contains the average time series for each ROI in individual files."
    },
    "ts_wb_corr": {
      "type": "boolean",
      "default": false,
      "title": "Whole brain correlation flag",
      "description": "Perform whole brain correlation for each ROI's average time series and output as Pearson 'r' values."
    },
    "ts_wb_Z": {
      "type": "boolean",
      "default": false,
      "title": "Whole brain Fisher Z-score flag",
      "description": "Perform whole brain correlation for each ROI's average time series and output as Fisher transformed Z-scores."
    },
    "weight_ts": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Weight time series",
      "description": "Input a 1D file of weights to be applied multiplicatively to each ROI's average time series."
    },
    "weight_corr": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Weight correlation",
      "description": "Input a 1D file of weights to estimate a weighted Pearson Correlation."
    },
    "ts_wb_strlabel": {
      "type": "boolean",
      "default": false,
      "title": "Whole brain string label flag",
      "description": "Apply string labels to the WB correlation/Z-score output files."
    },
    "nifti": {
      "type": "boolean",
      "default": false,
      "title": "NIFTI output flag",
      "description": "Output any correlation map files as NIFTI files."
    },
    "output_mask_nonnull": {
      "type": "boolean",
      "default": false,
      "title": "Output non-null mask flag",
      "description": "Output mask of non-null time series."
    },
    "push_thru_many_zeros": {
      "type": "boolean",
      "default": false,
      "title": "Push through many zeros flag",
      "description": "Push through the calculation even if any ROI contains more than 10 percent of voxels with null time series."
    },
    "allow_roi_zeros": {
      "type": "boolean",
      "default": false,
      "title": "Allow zero-filled ROI flag",
      "description": "Allow ROIs to have all-zero time series."
    },
    "automask_off": {
      "type": "boolean",
      "default": false,
      "title": "Automask off flag",
      "description": "Disable internal automasking of where time series are not uniformly zero."
    },
    "ignore_LT": {
      "type": "boolean",
      "default": false,
      "title": "Ignore label table flag",
      "description": "Ignore any label table labels in the '-in_rois' file."
    }
  },
  "additionalProperties": false,
  "required": [
    "prefix",
    "inset",
    "in_rois"
  ]
}