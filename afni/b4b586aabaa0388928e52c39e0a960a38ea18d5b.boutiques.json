{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Calculates the Euclidean Distance Transform (EDT) for 3D volumes, allowing computation of ROI depth maps and applying various adjustments like masking and rimification.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "3dDepthMap"
    },
    "input_dataset": {
      "type": "string",
      "title": "Input Dataset",
      "description": "Input dataset"
    },
    "output_prefix": {
      "type": "string",
      "title": "Output Prefix",
      "description": "Output prefix name"
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask Dataset",
      "description": "Mask dataset, applied after the EDT has been calculated"
    },
    "dist_squared": {
      "type": "boolean",
      "default": false,
      "title": "Output Distance Squared",
      "description": "Output EDT values as distance squared"
    },
    "ignore_voxdims": {
      "type": "boolean",
      "default": false,
      "title": "Ignore Voxel Dimensions",
      "description": "Ignore voxel dimensions, producing outputs as if each voxel dimension was unity"
    },
    "rimify": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Rimify Output",
      "description": "Output a map of each ROI's boundary layer up to thickness RIM"
    },
    "zeros_are_zero": {
      "type": "boolean",
      "default": false,
      "title": "Zeros Are Zero",
      "description": "EDT values only reported within nonzero locations of the input dataset"
    },
    "zeros_are_neg": {
      "type": "boolean",
      "default": false,
      "title": "Zeros Are Negative",
      "description": "EDT values in the zero/background regions will be negative"
    },
    "nz_are_neg": {
      "type": "boolean",
      "default": false,
      "title": "Nonzero Are Negative",
      "description": "EDT values in the nonzero ROI regions will be negative"
    },
    "bounds_are_not_zero": {
      "type": "boolean",
      "default": false,
      "title": "Bounds Are Not Zero",
      "description": "Treat FOV boundaries for nonzero ROIs as open (i.e., continue infinitely)"
    },
    "only2D": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Run in 2D",
      "description": "Run EDT in 2D along the specified plane (axi|cor|sag)"
    },
    "binary_only": {
      "type": "boolean",
      "default": false,
      "title": "Binary Only",
      "description": "Treat the input as a binary mask for a faster calculation"
    },
    "verbosity": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Verbosity Level",
      "description": "Manage verbosity when running code (default: 1)"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_dataset",
    "output_prefix"
  ]
}