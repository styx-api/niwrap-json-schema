{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Make a periodogram or amplitude-spectrum of a time series that has a non-constant sampling rate",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "3dLombScargle"
    },
    "prefix": {
      "type": "string",
      "title": "Prefix",
      "description": "Output prefix name for data volume, time point 1D file, and frequency 1D file"
    },
    "inset": {
      "type": "string",
      "title": "Input file",
      "description": "Time series of volumes, a 4D volumetric data set"
    },
    "censor_1d": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Censor file",
      "description": "Single row or column of 1s (keep) and 0s (censored) describing which volumes of FILE are kept in the sampling and which are censored out, respectively. The length of the list of numbers must be of the same length as the number of volumes in FILE. If not entered, then the program will look for subbricks of all-zeros and assume those are censored out."
    },
    "censor_string": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Censor string",
      "description": "AFNI-style selector string of volumes to *keep* in the analysis. Such as: '[0..4,7,10..$]'."
    },
    "mask_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask file",
      "description": "Optional, mask of volume to analyze; additionally, any voxel with uniformly zero values across time will produce a zero-spectrum"
    },
    "out_pow_spec": {
      "type": "boolean",
      "default": false,
      "title": "Output power spectrum flag",
      "description": "Switch to output the amplitude spectrum of the freqs instead of the periodogram. In the formulation used here, for a time series of length N, the power spectral value S is related to the amplitude value X as: S = (X)**2. (Without this opt, default output is amplitude spectrum.)"
    },
    "nyquist_multiplier": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Nyquist multiplier",
      "description": "L-S periodograms can include frequencies above what would typically be considered Nyquist. By default, the maximum frequency will be what f_N *would* have been if no censoring of points had occurred. Acceptable values are >0. (This sets the 'hifac' parameter)."
    },
    "nifti": {
      "type": "boolean",
      "default": false,
      "title": "NIFTI flag",
      "description": "Switch to output *.nii.gz volume file (default format is BRIK/HEAD)."
    }
  },
  "additionalProperties": false,
  "required": [
    "prefix",
    "inset"
  ]
}