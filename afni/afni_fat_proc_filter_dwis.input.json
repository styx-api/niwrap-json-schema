{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "fat_proc_filter_dwis",
  "description": "Filter out user-found and user-defined bad volumes from DWI data sets.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/fat_proc_filter_dwis"
    },
    "input_dwi": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input DWI",
      "description": "Name of a 4D file of DWIs (required)."
    },
    "input_gradient": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Gradient File",
      "description": "Bvec/bmat file from the gradients. Required. One of these options must be used: -in_col_matA, -in_col_matT, -in_col_vec, -in_row_vec"
    },
    "select_string": {
      "type": "string",
      "title": "Select String",
      "description": "A string of indices and index ranges for selecting which volumes/grads/bvals to keep. This string gets applied to the volume, bval|bvec|bmat files for an input set. Either this or -select_file is required."
    },
    "select_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Select File",
      "description": "A file containing a string of indices and index ranges for selecting which volumes/grads/bvals to keep. This string gets applied to the volume, bval|bvec|bmat files for an input set. Either this or -select is required."
    },
    "output_prefix": {
      "type": "string",
      "title": "Output Prefix",
      "description": "Output prefix for all the volumes and text files. Required."
    },
    "input_bvals": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input Bvals",
      "description": "If the bvec/bmat is a file of unit-magnitude values, then the bvalues can be input."
    },
    "unit_mag_out": {
      "type": "boolean",
      "default": false,
      "title": "Unit Magnitude Output",
      "description": "Ensure that the output grad information is unit magnitude."
    },
    "qc_prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "QC Prefix",
      "description": "Set the prefix of the QC image files separately."
    },
    "no_qc_view": {
      "type": "boolean",
      "default": false,
      "title": "No QC View",
      "description": "Turn off generating QC image files."
    },
    "no_cmd_out": {
      "type": "boolean",
      "default": false,
      "title": "No Command Output",
      "description": "Don't save the command line call of this program and the location where it was run."
    },
    "do_movie": {
      "anyOf": [
        {
          "type": "string",
          "enum": [
            "AGIF",
            "MPEG"
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Do Movie",
      "description": "Output a movie of the newly created dataset (AGIF or MPEG)."
    }
  },
  "additionalProperties": false,
  "required": [
    "input_dwi",
    "input_gradient",
    "select_string",
    "output_prefix"
  ]
}