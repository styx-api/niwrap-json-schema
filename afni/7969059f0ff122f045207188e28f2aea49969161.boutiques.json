{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Generate a tcsh script for an AFNI single subject processing stream",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "afni_proc.py"
    },
    "dsets": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "EPI Datasets",
      "description": "Specify the EPI dataset files. (e.g. epi_run1+orig, epi_run2+orig)"
    },
    "subj_id": {
      "type": "string",
      "title": "Subject ID",
      "description": "Specify the subject ID for the script."
    },
    "out_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Directory",
      "description": "Specify the output directory for the script."
    },
    "blocks": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Processing Blocks",
      "description": "Specify the processing blocks to apply (e.g. tshift volreg blur mask scale regress)."
    },
    "anat": {
      "type": "string",
      "title": "Anatomical Dataset",
      "description": "Specify the anatomical dataset."
    },
    "echo_times": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Echo Times",
      "description": "Specify echo times for multi-echo data processing."
    },
    "stim_times": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus Timing Files",
      "description": "Specify files used for stimulus timing in -stim_times."
    },
    "stim_files": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "TR-locked Stimulus Files",
      "description": "Specify TR-locked stim files for 3dDeconvolve -stim_file instead of -stim_times."
    },
    "copy_files": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Additional Files to Copy",
      "description": "Specify additional files to be copied to the results directory."
    },
    "copy_anat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Copy Anatomical Dataset",
      "description": "Copy the anatomical dataset(s) to the results directory."
    },
    "regress_params": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Extra Regression Parameters",
      "description": "Specify extra options for 3dDeconvolve."
    }
  },
  "additionalProperties": false,
  "required": [
    "dsets",
    "subj_id",
    "anat"
  ]
}