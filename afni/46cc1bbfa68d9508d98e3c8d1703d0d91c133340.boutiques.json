{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Look for bars of high variance that might suggest scanner interference in EPI datasets.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "find_variance_lines"
    },
    "input_files": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Input Files",
      "description": "Input EPI datasets"
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask",
      "description": "Mask for computations (default=AUTO)"
    },
    "min_cvox": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Min Voxels",
      "description": "Minimum voxels for valid mask column (default=5)"
    },
    "min_nt": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Min Time Points",
      "description": "Minimum number of time points required (default=10)"
    },
    "nerode": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Erode Levels",
      "description": "How much to erode input or auto-mask (default=0)"
    },
    "nfirst": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Discard Initial Time Points",
      "description": "Discard the first VAL time points (default=0)"
    },
    "percentile": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 99
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Variance Percentile",
      "description": "Percentile of variance values to scale to (default=90)"
    },
    "polort": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Polynomial Detrending",
      "description": "Polynomial detrending degree (default=A)"
    },
    "output_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Directory",
      "description": "Name of the output directory (default=vlines.result)"
    },
    "do_clean": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Clean Up",
      "description": "Do we clean up a little? (default=1)"
    },
    "do_img": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Generate Images",
      "description": "Make vline images? (default=1)"
    },
    "echo": {
      "type": "boolean",
      "default": false,
      "title": "Shell Echo",
      "description": "Run script with shell 'echo' set (default=no)"
    },
    "help": {
      "type": "boolean",
      "default": false,
      "title": "Help",
      "description": "Show this help"
    },
    "hist": {
      "type": "boolean",
      "default": false,
      "title": "History",
      "description": "Show the version history"
    },
    "ver": {
      "type": "boolean",
      "default": false,
      "title": "Version",
      "description": "Show the current version"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_files"
  ]
}