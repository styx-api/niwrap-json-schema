{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "2D image registration tool for 3D+time datasets, aligning images on a slice-by-slice basis to a specified base image.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.2dImReg"
    },
    "input_file": {
      "type": "string",
      "title": "Input file",
      "description": "Filename of input 3d+time dataset to process"
    },
    "base_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base file",
      "description": "Filename of 3d+time dataset for base image (default = current input dataset)"
    },
    "base": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base time index",
      "description": "Time index for base image (0 <= num) (default: num = 3)"
    },
    "nofine": {
      "type": "boolean",
      "default": false,
      "title": "No fine fit phase flag",
      "description": "Deactivate fine fit phase of image registration (default: fine fit is active)"
    },
    "fine_blur": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fine fit parameters - Blur",
      "description": "FWHM of blurring prior to registration (in pixels) (default: blur = 1.0)"
    },
    "fine_dxy": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fine fit parameters - DXY",
      "description": "Convergence tolerance for translations (in pixels) (default: dxy = 0.07)"
    },
    "fine_dphi": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fine fit parameters - DPHI",
      "description": "Convergence tolerance for rotations (in degrees) (default: dphi = 0.21)"
    },
    "prefix": {
      "type": "string",
      "title": "Output prefix",
      "description": "Prefix name for output 3d+time dataset"
    },
    "dprefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "D-prefix",
      "description": "Write files containing the registration parameters for each slice in chronological order"
    },
    "dmm": {
      "type": "boolean",
      "default": false,
      "title": "DMM flag",
      "description": "Change dx and dy output format from pixels to mm"
    },
    "rprefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "R-prefix",
      "description": "Write files containing the volume RMS error for the original and the registered datasets"
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug flag",
      "description": "Lots of additional output to screen"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_file",
    "prefix"
  ]
}