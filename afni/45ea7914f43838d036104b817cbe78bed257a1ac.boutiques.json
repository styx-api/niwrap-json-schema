{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Segments brain volumes into tissue classes with optional global and voxelwise priors.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dSeg"
    },
    "anat": {
      "type": "string",
      "title": "Anatomical Image",
      "description": "Volume to segment"
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask",
      "description": "Mask of the volume to be segmented. Can be a dataset or 'AUTO' to use AFNI's automask function."
    },
    "blur_meth": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Blurring Method",
      "description": "Blurring method for bias field estimation. Options: BFT, BIM, BNN, LSB. Default: BFT"
    },
    "bias_fwhm": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Bias FWHM",
      "description": "The amount of blurring used when estimating the field bias. Default: 25.0"
    },
    "classes": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Classes",
      "description": "String of class labels separated by semicolons. Default: 'CSF; GM; WM'"
    },
    "Bmrf": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "MRF Weighting Factor",
      "description": "Weighting factor controlling spatial homogeneity of classifications. Default: 0.0"
    },
    "bias_classes": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Bias Classes",
      "description": "Classes that contribute to the estimation of the bias field. Default: 'GM; WM'"
    },
    "prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Prefix",
      "description": "Prefix for all output volume"
    },
    "overwrite": {
      "type": "boolean",
      "default": false,
      "title": "Overwrite",
      "description": "Automatically overwrite existing files with the same prefix."
    },
    "debug": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Debug Level",
      "description": "Set debug level (0, 1, or 2)"
    },
    "mixfrac": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mixing Fraction",
      "description": "Volume-wide mixing fractions for initialization. Options: '0.1 0.45 0.45', 'UNI', 'AVG152_BRAIN_MASK', 'IGNORE'. Default: UNI"
    },
    "mixfloor": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mixing Fraction Floor",
      "description": "Set the minimum value for any class's mixing fraction. Default: 0.0001"
    },
    "gold": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Gold Standard Segmentation",
      "description": "Goldstandard segmentation volume for comparison."
    },
    "gold_bias": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Gold Standard Bias",
      "description": "Goldstandard bias volume for comparison."
    },
    "main_N": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Iterations",
      "description": "Number of iterations to perform. Default: 5"
    },
    "cset": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial Classification Set",
      "description": "Initial classification. Uses 3dkmean's engine if not provided."
    },
    "labeltable": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Label Table",
      "description": "Label table containing integer keys and corresponding labels."
    },
    "vox_debug": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Voxel Debug Index",
      "description": "1D index of voxel to debug or 3D voxel indices."
    },
    "vox_debug_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Debug Information Output File",
      "description": "File in which debug information is output, use '-' for stdout, '+' for stderr."
    }
  },
  "additionalProperties": false,
  "required": [
    "anat"
  ]
}