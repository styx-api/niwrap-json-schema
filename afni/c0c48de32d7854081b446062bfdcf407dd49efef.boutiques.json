{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Manipulation of diffusion-weighted (DW) gradient vector files, b-value files, and b- or g-matrices with various input and output configurations.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "1dDW_Grad_o_Mat++"
    },
    "in_row_vec": {
      "type": "string",
      "title": "Input Row Vectors",
      "description": "Input file of 3 rows of gradients (e.g., dcm2nii-format output)"
    },
    "in_col_vec": {
      "type": "string",
      "title": "Input Column Vectors",
      "description": "Input file of 3 columns of gradients"
    },
    "in_col_matA": {
      "type": "string",
      "title": "Input Columns Matrix A",
      "description": "Input file of 6 columns of b- or g-matrix in 'A(FNI)' diagonal first format"
    },
    "in_col_matT": {
      "type": "string",
      "title": "Input Columns Matrix T",
      "description": "Input file of 6 columns of b- or g-matrix in 'T(ORTOISE)' row first format"
    },
    "flip_x": {
      "type": "boolean",
      "default": false,
      "title": "Flip X",
      "description": "Change sign of first column of gradients (or of the x-component parts of the matrix)"
    },
    "flip_y": {
      "type": "boolean",
      "default": false,
      "title": "Flip Y",
      "description": "Change sign of second column of gradients (or of the y-component parts of the matrix)"
    },
    "flip_z": {
      "type": "boolean",
      "default": false,
      "title": "Flip Z",
      "description": "Change sign of third column of gradients (or of the z-component parts of the matrix)"
    },
    "no_flip": {
      "type": "boolean",
      "default": false,
      "title": "No Flip",
      "description": "Don't change any gradient/matrix signs (default behavior)"
    },
    "out_row_vec": {
      "type": "string",
      "title": "Output Row Vectors",
      "description": "Output file of 3 rows of gradients"
    },
    "out_col_vec": {
      "type": "string",
      "title": "Output Column Vectors",
      "description": "Output file of 3 columns of gradients"
    },
    "out_col_matA": {
      "type": "string",
      "title": "Output Columns Matrix A",
      "description": "Output file of 6 columns of b- or g-matrix in 'A(FNI)' diagonal first format"
    },
    "out_col_matT": {
      "type": "string",
      "title": "Output Columns Matrix T",
      "description": "Output file of 6 columns of b- or g-matrix in 'T(ORTOISE)' row first format"
    },
    "in_bvals": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input B-Values",
      "description": "BVAL_FILE is a file of b-values either in a single row or a single column"
    },
    "out_col_bval": {
      "type": "boolean",
      "default": false,
      "title": "Output Column B-Values",
      "description": "Switch to put a column of the bvalues as the first column in the output data"
    },
    "out_row_bval_sep": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Row B-Values File",
      "description": "Output a file of bvalues in a single row"
    },
    "out_col_bval_sep": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Column B-Values File",
      "description": "Output a file of bvalues in a single column"
    },
    "unit_mag_out": {
      "type": "boolean",
      "default": false,
      "title": "Unit Magnitude Output",
      "description": "Switch to scale each vector/matrix from the INFILE to either unit or zero magnitude"
    },
    "check_abs_min": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Check Absolute Minimum",
      "description": "Specify the threshold to replace small negative diagonal elements with zero in the input matrix"
    },
    "bref_mean_top": {
      "type": "boolean",
      "default": false,
      "title": "Reference Mean Top",
      "description": "When averaging the reference 'b0' values, represent the mean of X values in the top row"
    },
    "put_zeros_top": {
      "type": "boolean",
      "default": false,
      "title": "Put Zeros at Top",
      "description": "Add a row at the top with all zeros in the output format"
    },
    "bmax_ref": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Maximum Reference B-Value Threshold",
      "description": "THRESH is a scalar number below which b-values are considered zero or reference"
    }
  },
  "additionalProperties": false,
  "required": [
    "in_row_vec",
    "in_col_vec",
    "in_col_matA",
    "in_col_matT",
    "out_row_vec",
    "out_col_vec",
    "out_col_matA",
    "out_col_matT"
  ]
}