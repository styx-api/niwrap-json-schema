{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "A tool for voxelwise thresholding and clusterizing of datasets.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "3dClusterize"
    },
    "inset": {
      "type": "string",
      "title": "Input dataset",
      "description": "Load in a dataset for thresholding and clusterizing"
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask dataset",
      "description": "Load in a dataset to use as a mask"
    },
    "mask_from_hdr": {
      "type": "boolean",
      "default": false,
      "title": "Mask from header flag",
      "description": "Use internal mask from dataset header"
    },
    "out_mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output mask name",
      "description": "Specify to dump the utilized mask as a dataset"
    },
    "ithr": {
      "type": "string",
      "title": "Threshold sub-brick",
      "description": "Specify the sub-brick to use as the threshold source"
    },
    "idat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Data sub-brick",
      "description": "Specify the sub-brick to use as the data source"
    },
    "onesided": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "One-sided testing",
      "description": "Perform one-sided testing"
    },
    "twosided": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Two-sided testing",
      "description": "Perform two-sided testing"
    },
    "bisided": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Bisided testing",
      "description": "Perform bisided testing"
    },
    "within_range": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Within range values",
      "description": "Keep values within the range [AA, BB]"
    },
    "nn": {
      "type": "integer",
      "title": "Number of neighbors",
      "description": "Specify the number of voxel neighbors (1: 6, 2: 18, 3: 26)"
    },
    "clust_nvox": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum cluster size by voxels",
      "description": "Specify the minimum cluster size in terms of number of voxels"
    },
    "clust_vol": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum cluster size by volume",
      "description": "Specify the minimum cluster size by volume in microliters"
    },
    "pref_map": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output map prefix",
      "description": "Prefix/filename of the output map of cluster ROIs"
    },
    "pref_dat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output cluster-masked data",
      "description": "Output a cluster-masked version of the data volume"
    },
    "one_d_format": {
      "type": "boolean",
      "default": false,
      "title": "1D format output",
      "description": "Write output in 1D format"
    },
    "no_one_d_format": {
      "type": "boolean",
      "default": false,
      "title": "No 1D format output",
      "description": "Do not write output in 1D format"
    },
    "summarize": {
      "type": "boolean",
      "default": false,
      "title": "Summarize output",
      "description": "Write out only the total nonzero voxel count and volume for each dataset"
    },
    "nosum": {
      "type": "boolean",
      "default": false,
      "title": "Suppress totals",
      "description": "Suppress printout of the totals"
    },
    "quiet": {
      "type": "boolean",
      "default": false,
      "title": "Quiet mode",
      "description": "Suppress all non-essential output"
    },
    "outvol_if_no_clust": {
      "type": "boolean",
      "default": false,
      "title": "Output volume if no clusters",
      "description": "Output an empty volume if no clusters are found"
    },
    "orient": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output orientation",
      "description": "Coordinate order in the output report table (default: RAI)"
    },
    "abs_table_data": {
      "type": "boolean",
      "default": false,
      "title": "Absolute table data",
      "description": "Use absolute values for mean and SEM in report table"
    },
    "binary": {
      "type": "boolean",
      "default": false,
      "title": "Binary output",
      "description": "Turn output map of cluster ROIs into a binary mask"
    }
  },
  "additionalProperties": false,
  "required": [
    "inset",
    "ithr",
    "nn"
  ]
}