{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "3dRetinoPhase",
  "description": "Process time series from retinotopy stimuli to create phase datasets and visual field angle datasets",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni/3dRetinoPhase"
    },
    "prefix": {
      "type": "string",
      "title": "Prefix",
      "description": "Prefix of output datasets."
    },
    "dataset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Dataset",
      "description": "Time series from a retinotopy stimulus."
    },
    "exp": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Expanding Rings",
      "description": "Expanding rings stimulus."
    },
    "con": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Contracting Rings",
      "description": "Contracting rings stimulus."
    },
    "clw": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Clockwise Polar Angle",
      "description": "Clockwise moving polar angle mapping stimulus."
    },
    "ccw": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Counterclockwise Polar Angle",
      "description": "Counterclockwise moving polar angle mapping stimulus."
    },
    "spectra": {
      "type": "boolean",
      "default": false,
      "title": "Spectra",
      "description": "Output amplitude and phase spectra datasets."
    },
    "tstim": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stimulus Period",
      "description": "Period of stimulus in seconds."
    },
    "nrings": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Rings",
      "description": "Number of rings in the stimulus. Default is 1."
    },
    "nwedges": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Wedges",
      "description": "Number of wedges in the stimulus. Default is 1."
    },
    "ort_adjust": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Detrending DOF Adjustment",
      "description": "Number of DOF lost in detrending outside of this program."
    },
    "pre_stim": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Pre-Stimulus Period",
      "description": "Blank period, in seconds, before stimulus began."
    },
    "sum_adjust": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sum Adjustment",
      "description": "Adjust sum of angles for wrapping based on the angle difference. Default is 'y'."
    },
    "phase_estimate": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Phase Estimation Method",
      "description": "Method of phase estimation."
    },
    "ref_ts": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Reference Time Series",
      "description": "0 lag reference time series of response for DELAY phase estimation method."
    },
    "multi_ref_ts": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Multiple Reference Time Series",
      "description": "Multiple 0 lag reference time series. This allows you to test multiple regressors."
    }
  },
  "additionalProperties": false,
  "required": [
    "prefix",
    "dataset"
  ]
}