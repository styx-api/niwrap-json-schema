{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Smooths each voxel time series in a 3D+time dataset and produces as output a new 3D+time dataset (e.g., lowpass filter in time).",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dTsmooth"
    },
    "input_dataset": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Dataset",
      "description": "The input 3D+time dataset."
    },
    "prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Prefix",
      "description": "Sets the prefix of the output dataset."
    },
    "datum_type": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Datum Type",
      "description": "Coerce output dataset to be stored as the given type."
    },
    "lin_filter": {
      "type": "boolean",
      "default": false,
      "title": "Linear Filter",
      "description": "3 point linear filter: 0.15*a + 0.70*b + 0.15*c"
    },
    "med_filter": {
      "type": "boolean",
      "default": false,
      "title": "Median Filter",
      "description": "3 point median filter: median(a,b,c)"
    },
    "osf_filter": {
      "type": "boolean",
      "default": false,
      "title": "Order Statistics Filter",
      "description": "3 point order statistics filter: 0.15*min(a,b,c) + 0.70*median(a,b,c) + 0.15*max(a,b,c)"
    },
    "lin_filter_custom": {
      "anyOf": [
        {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Custom Linear Filter",
      "description": "3 point linear filter with custom weight: 0.5*(1-m)*a + m*b + 0.5*(1-m)*c"
    },
    "hamming": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hamming Window Filter",
      "description": "Use N point Hamming window filter."
    },
    "blackman": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Blackman Window Filter",
      "description": "Use N point Blackman window filter."
    },
    "custom_filter": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Custom Filter File",
      "description": "Use custom filter with coefficients from a specified file."
    },
    "extend": {
      "type": "boolean",
      "default": false,
      "title": "Extend Values",
      "description": "BEFORE: use the first value; AFTER: use the last value."
    },
    "zero": {
      "type": "boolean",
      "default": false,
      "title": "Zero Padding",
      "description": "BEFORE and AFTER: use zero."
    },
    "trend": {
      "type": "boolean",
      "default": false,
      "title": "Trend Extrapolation",
      "description": "Compute a linear trend, and extrapolate BEFORE and AFTER."
    },
    "adaptive": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Adaptive Mean Filtering Width",
      "description": "Use adaptive mean filtering of width N (N must be odd and bigger than 3)."
    }
  },
  "additionalProperties": false,
  "required": [
    "input_dataset"
  ]
}