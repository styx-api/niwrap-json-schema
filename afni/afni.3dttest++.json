{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Gosset (Student) t-test of sets of 3D datasets in AFNI",
  "type": "object",
  "properties": {
    "@type": {
      "const": "afni.3dttest++"
    },
    "setA": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "-setA",
      "description": "Set A in short form, e.g., 'a+tlrc[3]' b+tlrc[3] ...'"
    },
    "setB": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-setB",
      "description": "Set B in short form, e.g., 'x+tlrc[3]' y+tlrc[3] ...'"
    },
    "setA_long": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-setA (Long Form)",
      "description": "Specify an overall name for the set of datasets (Long form). Example: -setA Green sub001 a+tlrc[3] sub002 b+tlrc[3] ..."
    },
    "setB_long": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-setB (Long Form)",
      "description": "Specify an overall name for the set of datasets (Long form). Example: -setB Blue sub001 x+tlrc[3] sub002 y+tlrc[3] ..."
    },
    "covariates": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-covariates",
      "description": "File containing covariates."
    },
    "labelA": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-labelA",
      "description": "Label for the set (for Set A). Limited to 12 characters."
    },
    "labelB": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-labelB",
      "description": "Label for the set (for Set B). Limited to 12 characters."
    },
    "setweightA": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-setweightA",
      "description": "File with voxel-wise weights for -setA datasets."
    },
    "setweightB": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-setweightB",
      "description": "File with voxel-wise weights for -setB datasets."
    },
    "prefix": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-prefix",
      "description": "Output the prefix name of the dataset result. For surface-based datasets, use -prefix p.niml.dset or -prefix p.gii.dset"
    },
    "resid": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-resid",
      "description": "Residuals will be output into a dataset with the given prefix."
    },
    "paired": {
      "type": "boolean",
      "default": false,
      "title": "-paired",
      "description": "Specify to use a paired-sample t-test to compare setA and setB. Both sets must have the same cardinality."
    },
    "unpooled": {
      "type": "boolean",
      "default": false,
      "title": "-unpooled",
      "description": "Specify separate variance estimates for setA and setB (not pooled together)."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-mask",
      "description": "Set mask for dataset analysis."
    },
    "exblur": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 100
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-exblur",
      "description": "Add extra Gaussian blurring kernel FWHM (mm). Example: -exblur 6"
    },
    "randomsign": {
      "type": "boolean",
      "default": false,
      "title": "-randomsign",
      "description": "Randomize signs of datasets. Used with output from -resid to generate null hypothesis statistics."
    },
    "permute": {
      "type": "boolean",
      "default": false,
      "title": "-permute",
      "description": "With -randomsign, adds inter-set permutation to randomization when both sets are used."
    },
    "ETAC": {
      "type": "boolean",
      "default": false,
      "title": "-ETAC",
      "description": "Apply the Equitable Thresholding And Clustering (ETAC) method for thresholding results."
    },
    "ETAC_blur": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-ETAC_blur",
      "description": "List of multiple levels of spatial blurring for ETAC. Example: -ETAC_blur 4 6"
    },
    "ETAC_opt": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-ETAC_opt",
      "description": "Specify options for ETAC. Example: -ETAC_opt NN=2:sid=2:hpow=0,2:pthr=0.01,0.005,0.002,0.01:name=Fred"
    },
    "seed": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "-seed",
      "description": "Random number seed for -randomsign and -permute/ETAC."
    }
  },
  "additionalProperties": false,
  "required": [
    "setA"
  ]
}