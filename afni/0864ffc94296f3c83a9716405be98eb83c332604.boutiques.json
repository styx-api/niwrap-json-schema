{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Check datasets for correlation artifacts",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "@radial_correlate"
    },
    "input_files": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Input datasets",
      "description": "A list of EPI datasets"
    },
    "results_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Results directory",
      "description": "Results directory for correlations"
    },
    "do_corr": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Create correlation volumes",
      "description": "Create correlation volumes (yes/no)"
    },
    "do_clust": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cluster correlation volumes",
      "description": "Cluster correlation volumes (yes/no)"
    },
    "mask_dset": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask dataset",
      "description": "Specify a mask dataset to replace automask"
    },
    "cthresh": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Correlation threshold",
      "description": "Threshold on correlation values"
    },
    "frac_limit": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fraction limit",
      "description": "Minimum mask fraction surviving cluster"
    },
    "sphere_rad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sphere radius",
      "description": "Generate correlations within voxel spheres"
    },
    "use_3dmerge": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Use 3dmerge",
      "description": "Use 3dmerge rather than 3dLocalstat (yes/no)"
    },
    "percentile": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Percentile threshold",
      "description": "Percentile to use as threshold"
    },
    "min_thr": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum threshold",
      "description": "Minimum percentile threshold to be considered"
    },
    "nfirst": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial TRs to remove",
      "description": "Number of initial TRs to remove"
    },
    "ver": {
      "type": "boolean",
      "default": false,
      "title": "Version flag",
      "description": "Show version number"
    },
    "verbose": {
      "type": "boolean",
      "default": false,
      "title": "Verbose flag",
      "description": "Make verbose: set echo"
    },
    "help": {
      "type": "boolean",
      "default": false,
      "title": "Help flag",
      "description": "Show help"
    },
    "hist": {
      "type": "boolean",
      "default": false,
      "title": "History flag",
      "description": "Show modification history"
    },
    "corr_mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Correlation mask",
      "description": "Mask time series before correlation blurring (yes/no)"
    },
    "do_clean": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Clean up after",
      "description": "Clean up at end, leaving only correlations (yes/no)"
    },
    "polort": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Polynomial degree",
      "description": "Detrend time series with given polynomial degree"
    },
    "merge_frad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Merge Fraction radius",
      "description": "Specify a radius fraction for 3dmerge blurring"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_files"
  ]
}