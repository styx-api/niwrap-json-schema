{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Submits longitudinal processing jobs to the NMR cluster (seychelles or launchpad).",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.long_submit_jobs"
    },
    "qdec": {
      "type": "string",
      "x-styx-type": "file",
      "title": "QDEC Table File",
      "description": "QDEC table file specifying the subjects and time points."
    },
    "cdir": {
      "type": "string",
      "title": "Cross Subjects Directory",
      "description": "Directory for cross-sectional subjects (inherited by base and long)."
    },
    "bdir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base Subjects Directory",
      "description": "Directory for base runs (default: inherit from cross)."
    },
    "ldir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Longitudinal Subjects Directory",
      "description": "Directory for longitudinal runs (default: inherit from base)."
    },
    "scriptsdir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Scripts Directory",
      "description": "Location to save submitted scripts (default: <cdir,bdir,ldir>/scripts_submitted)."
    },
    "cross": {
      "type": "boolean",
      "default": false,
      "title": "Cross Sectionals",
      "description": "Process cross-sectional streams."
    },
    "base": {
      "type": "boolean",
      "default": false,
      "title": "Base",
      "description": "Process base streams."
    },
    "long": {
      "type": "boolean",
      "default": false,
      "title": "Longitudinals",
      "description": "Process longitudinal streams."
    },
    "cflags": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cross Flags",
      "description": "Manual flags for cross processing (e.g., '-all -cw256')."
    },
    "bflags": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base Flags",
      "description": "Manual flags for base processing (default: '-all')."
    },
    "lflags": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Long Flags",
      "description": "Manual flags for long processing (default: '-all')."
    },
    "affine": {
      "type": "boolean",
      "default": false,
      "title": "Affine Registration",
      "description": "Use affine registration for base."
    },
    "force": {
      "type": "boolean",
      "default": false,
      "title": "Force Reprocessing",
      "description": "Force reprocessing of jobs even if marked as done."
    },
    "simulate": {
      "type": "boolean",
      "default": false,
      "title": "Simulate Submission",
      "description": "Simulate submission only, without executing."
    },
    "simfiles": {
      "type": "boolean",
      "default": false,
      "title": "Simulate Command Files",
      "description": "Simulate command file creation only, without executing."
    },
    "check": {
      "type": "boolean",
      "default": false,
      "title": "Check Completion",
      "description": "Check if all longitudinal processing is complete."
    },
    "pause": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Pause Between Submissions",
      "description": "Pause duration (in seconds) between submissions (default: 13)."
    },
    "max": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Max Jobs",
      "description": "Maximum number of jobs per user (default: 100)."
    },
    "queue": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Queue",
      "description": "Queue to submit jobs."
    },
    "cmem": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cross RAM",
      "description": "RAM (in GB) requested for cross (default: 7)."
    },
    "bmem": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base RAM",
      "description": "RAM (in GB) requested for base (default: 7)."
    },
    "lmem": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Long RAM",
      "description": "RAM (in GB) requested for long (default: 7)."
    },
    "cnodes": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cross Nodes",
      "description": "Number of nodes for cross runs (default: 1)."
    },
    "bnodes": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base Nodes",
      "description": "Number of nodes for base runs (default: 1)."
    },
    "lnodes": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Long Nodes",
      "description": "Number of nodes for long runs (default: 1)."
    }
  },
  "additionalProperties": false,
  "required": [
    "qdec",
    "cdir"
  ]
}