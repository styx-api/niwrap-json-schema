{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_cnr",
  "description": "Compute the gray/white/csf contrast-to-noise ratio for volumes using FreeSurfer.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/mri_cnr"
    },
    "surf_dir": {
      "type": "string",
      "title": "Surface Directory",
      "description": "Directory containing surface data."
    },
    "volume_files": {
      "type": "array",
      "items": {
        "type": "string",
        "x-styx-type": "file"
      },
      "title": "Volume Files",
      "description": "Volumes to process."
    },
    "slope": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 5,
          "maxItems": 5
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Slope Computation",
      "description": "Compute slope and write to files labeled with slope_fname. Requires four additional values: dist_in, dist_out, step_in, and step_out."
    },
    "logfile": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Log File",
      "description": "Log CNR to specified logfile. Will contain 8 values in a specific order: gray_white_cnr, gray_csf_cnr, white_mean, gray_mean, csf_mean, sqrt(white_var), sqrt(gray_var), sqrt(csf_var)."
    },
    "labels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hemisphere Labels",
      "description": "Read hemisphere labels from specified left and right hemisphere files."
    },
    "print_total_cnr": {
      "type": "boolean",
      "default": false,
      "title": "Print Total CNR Flag",
      "description": "Print only the total CNR to stdout."
    },
    "version_flag": {
      "type": "boolean",
      "default": false,
      "title": "Version Flag",
      "description": "Print software version information and quit."
    },
    "help_flag": {
      "type": "boolean",
      "default": false,
      "title": "Help Flag",
      "description": "Print usage information and quit."
    }
  },
  "additionalProperties": false,
  "required": [
    "surf_dir",
    "volume_files"
  ]
}