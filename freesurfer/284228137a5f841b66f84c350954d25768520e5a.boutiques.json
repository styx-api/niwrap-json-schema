{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Performs all, or any part of, the FreeSurfer cortical reconstruction process",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.recon-all"
    },
    "subjid": {
      "type": "string",
      "title": "Subject ID",
      "description": "Subject ID for the FreeSurfer analysis"
    },
    "all_flag": {
      "type": "boolean",
      "default": false,
      "title": "All flag",
      "description": "Performs all stages of cortical reconstruction"
    },
    "autorecon_all_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon all flag",
      "description": "Same as -all"
    },
    "autorecon1_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 1 flag",
      "description": "Process stages 1-5"
    },
    "autorecon2_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 2 flag",
      "description": "Process stages 6-23"
    },
    "autorecon2_cp_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 2 CP flag",
      "description": "Process stages 12-23"
    },
    "autorecon2_wm_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 2 WM flag",
      "description": "Process stages 15-23"
    },
    "autorecon2_inflate1_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 2 Inflate 1 flag",
      "description": "Process stages 6-18"
    },
    "autorecon2_perhemi_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 2 per hemisphere flag",
      "description": "Tessellation, Smooth1, Inflate1, Qsphere, Fix, Smooth2, Inflate2, Finalsurf, Ribbon"
    },
    "autorecon3_flag": {
      "type": "boolean",
      "default": false,
      "title": "Autorecon 3 flag",
      "description": "Process stages 24-34"
    },
    "hemi": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hemisphere",
      "description": "Specify hemisphere ('lh' or 'rh')"
    },
    "pons_crs": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Pons CRS",
      "description": "Specify CRS for pons during fill operation"
    },
    "cc_crs": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Corpus Callosum CRS",
      "description": "Specify CRS for corpus callosum during fill operation"
    },
    "lh_crs": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Left Hemisphere CRS",
      "description": "Specify CRS for left hemisphere during fill operation"
    },
    "rh_crs": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Right Hemisphere CRS",
      "description": "Specify CRS for right hemisphere during fill operation"
    },
    "nofill": {
      "type": "boolean",
      "default": false,
      "title": "No Fill Flag",
      "description": "Do not use automatic subcortical seg to fill"
    },
    "watershed": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Watershed Command",
      "description": "Control skull stripping/watershed program"
    },
    "external_brain_mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "External Brain Mask",
      "description": "Custom external brain mask file"
    },
    "wsless": {
      "type": "boolean",
      "default": false,
      "title": "WS Less Flag",
      "description": "Decrease watershed threshold"
    },
    "wsmore": {
      "type": "boolean",
      "default": false,
      "title": "WS More Flag",
      "description": "Increase watershed threshold"
    },
    "wsatlas": {
      "type": "boolean",
      "default": false,
      "title": "WS Atlas Flag",
      "description": "Use atlas when skull stripping"
    },
    "no_wsatlas": {
      "type": "boolean",
      "default": false,
      "title": "No WS Atlas Flag",
      "description": "Do not use atlas when skull stripping"
    },
    "no_wsgcaatlas": {
      "type": "boolean",
      "default": false,
      "title": "No WS GCA Atlas Flag",
      "description": "Do not use GCA atlas when skull stripping"
    },
    "wsthresh": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "WS Thresh",
      "description": "Explicitly set watershed threshold"
    },
    "wsseed": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "WS Seed",
      "description": "Identify an index (C, R, S) point in the skull"
    },
    "norm_3d_iters": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Norm 3D Iters",
      "description": "Number of 3D iterations for mri_normalize"
    },
    "norm_max_grad": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Norm Max Grad",
      "description": "Max grad for mri_normalize"
    },
    "norm1_b": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Norm 1-B",
      "description": "First usage of mri_normalize with control point intensity N below target"
    },
    "norm2_b": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Norm 2-B",
      "description": "Second usage of mri_normalize with control point intensity N below target"
    },
    "norm1_n": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Norm 1-N",
      "description": "First usage of mri_normalize, number of iterations"
    },
    "norm2_n": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Norm 2-N",
      "description": "Second usage of mri_normalize, number of iterations"
    },
    "cm": {
      "type": "boolean",
      "default": false,
      "title": "Conform volumes flag",
      "description": "Conform volumes to the min voxel size"
    },
    "no_fix_with_ga": {
      "type": "boolean",
      "default": false,
      "title": "No Fix with GA flag",
      "description": "Do not use genetic algorithm when fixing topology"
    },
    "fix_diag_only": {
      "type": "boolean",
      "default": false,
      "title": "Fix Diag Only flag",
      "description": "Topology fixer runs until ?h.defect_labels files are created"
    },
    "seg_wlo": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Seg WLO",
      "description": "Set WLO value for mri_segment and mris_make_surfaces"
    },
    "seg_ghi": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Seg GHI",
      "description": "Set GHI value for mri_segment and mris_make_surfaces"
    },
    "nothicken": {
      "type": "boolean",
      "default": false,
      "title": "No Thicken flag",
      "description": "Pass '-thicken 0' to mri_segment"
    },
    "no_ca_align_after": {
      "type": "boolean",
      "default": false,
      "title": "No CA Align After flag",
      "description": "Turn off '-align-after' with mri_ca_register"
    },
    "no_ca_align": {
      "type": "boolean",
      "default": false,
      "title": "No CA Align flag",
      "description": "Turn off '-align' with mri_ca_label"
    },
    "deface": {
      "type": "boolean",
      "default": false,
      "title": "Deface flag",
      "description": "Deface subject, written to orig_defaced.mgz"
    },
    "expert_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Expert File",
      "description": "Read-in expert options file"
    },
    "xopts_use": {
      "type": "boolean",
      "default": false,
      "title": "XOPTS Use flag",
      "description": "Use pre-existing expert options file"
    },
    "xopts_clean": {
      "type": "boolean",
      "default": false,
      "title": "XOPTS Clean flag",
      "description": "Delete pre-existing expert options file"
    },
    "xopts_overwrite": {
      "type": "boolean",
      "default": false,
      "title": "XOPTS Overwrite flag",
      "description": "Overwrite pre-existing expert options file"
    },
    "termscript_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Term Script File",
      "description": "Run script before exiting"
    },
    "mprage": {
      "type": "boolean",
      "default": false,
      "title": "MPRAGE flag",
      "description": "Assume scan parameters are MGH MP-RAGE protocol"
    },
    "washu_mprage": {
      "type": "boolean",
      "default": false,
      "title": "WashU MPRAGE flag",
      "description": "Assume scan parameters are Wash.U. MP-RAGE protocol"
    },
    "schwartzya3t_atlas": {
      "type": "boolean",
      "default": false,
      "title": "Schwartzya 3T Atlas flag",
      "description": "Use special young adult 3T atlas for tal reg"
    },
    "threads": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Threads",
      "description": "Set number of threads to use"
    },
    "waitfor_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Wait for File",
      "description": "Wait for file to appear before beginning"
    },
    "notify_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Notify File",
      "description": "Create this file after finishing"
    },
    "log_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Log File",
      "description": "Specify log file"
    },
    "status_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Status File",
      "description": "Specify status file"
    },
    "noappend": {
      "type": "boolean",
      "default": false,
      "title": "No Append flag",
      "description": "Start new log and status files instead of appending"
    },
    "no_isrunning": {
      "type": "boolean",
      "default": false,
      "title": "No Is Running flag",
      "description": "Do not check whether this subject is currently being processed"
    },
    "hippocampal_subfields_t1": {
      "type": "boolean",
      "default": false,
      "title": "Hippocampal Subfields T1 flag",
      "description": "Segmentation of hippocampal subfields using input T1 scan"
    },
    "hippocampal_subfields_t2": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hippocampal Subfields T2",
      "description": "Segmentation using an additional scan and input T2 scan"
    },
    "hippocampal_subfields_t1t2": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hippocampal Subfields T1T2",
      "description": "Segmentation using additional scan and input T1"
    },
    "brainstem_structures": {
      "type": "boolean",
      "default": false,
      "title": "Brainstem Structures flag",
      "description": "Segmentation of brainstem structures"
    },
    "subjects_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subjects Directory",
      "description": "Specify subjects directory"
    },
    "mail_user": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mail User",
      "description": "Mail user when done"
    },
    "umask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "UMASK",
      "description": "Set unix file permission mask"
    },
    "group_id": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Group ID",
      "description": "Check that current group is alpha group"
    },
    "only_versions": {
      "type": "boolean",
      "default": false,
      "title": "Only Versions flag",
      "description": "Print version of each binary and exit"
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug flag",
      "description": "Print out lots of info"
    },
    "allow_coredump": {
      "type": "boolean",
      "default": false,
      "title": "Allow Core Dump flag",
      "description": "Set coredump limit to unlimited"
    },
    "dontrun": {
      "type": "boolean",
      "default": false,
      "title": "Don\u2019t Run flag",
      "description": "Do everything but execute each command"
    },
    "version": {
      "type": "boolean",
      "default": false,
      "title": "Version flag",
      "description": "Print version of this script and exit"
    },
    "help": {
      "type": "boolean",
      "default": false,
      "title": "Help flag",
      "description": "Display help message and exit"
    }
  },
  "additionalProperties": false,
  "required": [
    "subjid"
  ]
}