{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_sclimbic_seg",
  "description": "Segment subcortical limbic structures using Freesurfer.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/mri_sclimbic_seg"
    },
    "input_file": {
      "type": "string",
      "title": "Input file",
      "description": "T1-w image(s) to segment. Can be a path to a single image or a directory of images."
    },
    "output_file": {
      "type": "string",
      "title": "Output file",
      "description": "Segmentation output (required if --i is provided). Must be the same type as the input path (a single file or directory)."
    },
    "subjects": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subjects",
      "description": "Process a series of freesurfer recon-all subjects (enables subject-mode)."
    },
    "subjects_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subjects directory",
      "description": "Set the subjects directory (overrides the SUBJECTS_DIR env variable)."
    },
    "conform": {
      "type": "boolean",
      "default": false,
      "title": "Conform flag",
      "description": "Resample input to 1mm-iso; results will be put back in native resolution."
    },
    "etiv": {
      "type": "boolean",
      "default": false,
      "title": "eTIV flag",
      "description": "Include eTIV in volume stats (enabled by default in subject-mode and --tal)."
    },
    "exclude_labels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Exclude labels",
      "description": "List of label IDs to exclude in any output stats files."
    },
    "keep_ac": {
      "type": "boolean",
      "default": false,
      "title": "Keep anterior commissure",
      "description": "Explicitly keep anterior commissure in the volume/qa files."
    },
    "vox_count_volumes": {
      "type": "boolean",
      "default": false,
      "title": "Voxel count volumes",
      "description": "Use discrete voxel count for label volumes."
    },
    "model_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Model weights file",
      "description": "Alternative model weights to load."
    },
    "ctab_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Color table file",
      "description": "Alternative color lookup table to embed in segmentation. Must be minimal, including 0, and sorted."
    },
    "population_stats": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Population stats file",
      "description": "Alternative population volume stats for QA output."
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug flag",
      "description": "Enable debug logging."
    },
    "vmp": {
      "type": "boolean",
      "default": false,
      "title": "VMP flag",
      "description": "Enable printing of vmpeak at the end."
    },
    "threads": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Threads",
      "description": "Number of threads to use. Default is 1."
    },
    "tal_xfm": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Talairach transformation",
      "description": "Alternative talairach xfm transform for estimating TIV. Can be file or suffix (for multiple inputs)."
    },
    "write_posteriors": {
      "type": "boolean",
      "default": false,
      "title": "Write posteriors flag",
      "description": "Save the label posteriors."
    },
    "write_volumes": {
      "type": "boolean",
      "default": false,
      "title": "Write volumes flag",
      "description": "Save label volume stats (enabled by default in subject-mode)."
    },
    "write_qa_stats": {
      "type": "boolean",
      "default": false,
      "title": "Write QA stats flag",
      "description": "Save QA stats (z and confidence)."
    },
    "preprocess_7T": {
      "type": "boolean",
      "default": false,
      "title": "Preprocess 7T",
      "description": "Preprocess 7T images (just sets percentile to 99.9)."
    },
    "percentile": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Percentile",
      "description": "Use intensity percentile threshold for normalization."
    },
    "cuda_device": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "CUDA device",
      "description": "Cuda device for GPU support."
    },
    "output_base": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output base",
      "description": "String to use in output file name; default is sclimbic."
    },
    "no_cite": {
      "type": "boolean",
      "default": false,
      "title": "No cite flag",
      "description": "Do not cite sclimbic paper at the end."
    },
    "nchannels": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of channels",
      "description": "Number of channels"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_file",
    "output_file"
  ]
}