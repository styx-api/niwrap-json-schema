{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_fuse_segmentations",
  "description": "Fuse a set of segmentations (asegs) into an initial estimate of a longitudinal one.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.mri_fuse_segmentations"
    },
    "asegs": {
      "type": "array",
      "items": {
        "type": "string",
        "x-styx-type": "file"
      },
      "title": "Aseg files",
      "description": "Path to aseg.mgz files, one per TP"
    },
    "nocc_asegs": {
      "type": "array",
      "items": {
        "type": "string",
        "x-styx-type": "file"
      },
      "title": "No CC Aseg files",
      "description": "Path to aseg.auto_noCCseg.mgz files without CC labels, one per TP"
    },
    "norm_volumes": {
      "type": "array",
      "items": {
        "type": "string",
        "x-styx-type": "file"
      },
      "title": "Norm volumes",
      "description": "Path to norm.mgz files, one per TP"
    },
    "transforms": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Transforms",
      "description": "Transform files from each TP to the input norm.mgz, can be LTA, M3Z or identity.nofile"
    },
    "sigma": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Cross-time sigma",
      "description": "Cross-time sigma (default 3.0)"
    },
    "input_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input file",
      "description": "Input norm.mgz file"
    },
    "output_file": {
      "type": "string",
      "title": "Output fused segmentation file",
      "description": "Resulting fused segmentation as aseg.fused.mgz file"
    }
  },
  "additionalProperties": false,
  "required": [
    "asegs",
    "nocc_asegs",
    "norm_volumes",
    "input_file",
    "output_file"
  ]
}