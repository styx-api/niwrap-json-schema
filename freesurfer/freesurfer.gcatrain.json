{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "GCA training tool for building a GCA from a group of manually labeled subjects.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.gcatrain"
    },
    "gcadir": {
      "type": "string",
      "title": "GCA Directory",
      "description": "Directory for the new SUBJECTS_DIR."
    },
    "subjectlistfile": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Subject List File",
      "description": "The list of subjects to include."
    },
    "init_subject_transform": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 2,
      "maxItems": 2,
      "title": "Initialization Subject and Transform",
      "description": "Initialization subject and its talairach transform."
    },
    "seg_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Segmentation File",
      "description": "Segmentation file (e.g. seg_edited.mgz)."
    },
    "source_subjects_dir": {
      "type": "string",
      "title": "Source Subjects Directory",
      "description": "Source SUBJECTS_DIR for data."
    },
    "num_iters": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Iterations",
      "description": "Number of iterations."
    },
    "num_threads": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Threads",
      "description": "Number of threads to use."
    },
    "exclude_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Exclude File",
      "description": "File listing subjects to exclude, useful for jackknifing."
    },
    "exclude_subject": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Exclude Subject",
      "description": "Exclude a single subject, useful for jackknifing."
    },
    "symmetric_atlas": {
      "type": "boolean",
      "default": false,
      "title": "Symmetric Atlas Flag",
      "description": "Create a symmetric atlas."
    },
    "color_table": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Colortable",
      "description": "Colortable for segmentation labels (not needed)."
    },
    "no_submit": {
      "type": "boolean",
      "default": false,
      "title": "No Submit Flag",
      "description": "Run serially without pbsubmit."
    },
    "mail_flag": {
      "type": "boolean",
      "default": false,
      "title": "Mail Flag",
      "description": "Mail to user when jobs are pbsubmitted or finished."
    },
    "no_strict": {
      "type": "boolean",
      "default": false,
      "title": "No Strict Flag",
      "description": "Do not require FS build stamps to match across iterations."
    },
    "gcareg_iters": {
      "type": "boolean",
      "default": false,
      "title": "GCA Registration Iters Flag",
      "description": "Set to 1 for testing."
    },
    "prep_only": {
      "type": "boolean",
      "default": false,
      "title": "Prep Only Flag",
      "description": "Execute preparation steps only."
    },
    "nu10_flag": {
      "type": "boolean",
      "default": false,
      "title": "NU10 Flag",
      "description": "Run with nu10 settings."
    },
    "nu12_flag": {
      "type": "boolean",
      "default": false,
      "title": "NU12 Flag",
      "description": "Run with nu12 settings (default)."
    },
    "no_emreg": {
      "type": "boolean",
      "default": false,
      "title": "No EM Register Flag",
      "description": "Do not use mri_em_register."
    }
  },
  "additionalProperties": false,
  "required": [
    "gcadir",
    "subjectlistfile",
    "init_subject_transform",
    "seg_file",
    "source_subjects_dir"
  ]
}