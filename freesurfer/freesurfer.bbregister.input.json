{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "bbregister",
  "description": "Performs within-subject, cross-modal registration using a boundary-based cost function.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/bbregister"
    },
    "subject": {
      "type": "string",
      "title": "Subject",
      "description": "FreeSurfer subject name as found in $SUBJECTS_DIR."
    },
    "moveable_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Moveable Volume",
      "description": "\"Moveable\" volume template for cross-modal volume. E.g., fMRI volume used for motion correction."
    },
    "reg_file": {
      "type": "string",
      "title": "Registration File",
      "description": "Output FreeSurfer registration file (tkregister-style or LTA format)."
    },
    "contrast_type_t1": {
      "type": "boolean",
      "default": false,
      "title": "T1 Contrast",
      "description": "Assume T1 contrast, White Matter brighter than Grey Matter."
    },
    "contrast_type_t2": {
      "type": "boolean",
      "default": false,
      "title": "T2/BOLD/DTI Contrast",
      "description": "Assume T2 contrast, Grey Matter brighter than White Matter. Same as --bold and --dti."
    },
    "vsm": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Voxel Shift Map",
      "description": "Include B0 distortion correction. A voxel shift map can be created with the epidewarp.fsl script."
    },
    "init_coreg": {
      "type": "boolean",
      "default": false,
      "title": "Initialize Coreg",
      "description": "Initialize with FreeSurfer mri_coreg program."
    },
    "no_coreg_ref_mask": {
      "type": "boolean",
      "default": false,
      "title": "No Coreg Ref Mask",
      "description": "Do not use aparc+aseg.mgz as a reference mask."
    },
    "init_header": {
      "type": "boolean",
      "default": false,
      "title": "Initialize Header",
      "description": "Use geometry info for close voxel-to-voxel registration. Typically valid if acquired in same session."
    },
    "init_reg": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial Reg File",
      "description": "Supply an initial registration matrix; can be LTA format."
    },
    "intvol": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Intermediate Volume",
      "description": "Volume used as an intermediate during registration. Useful for partial field-of-view volumes."
    },
    "mid_frame": {
      "type": "boolean",
      "default": false,
      "title": "Middle Frame Registration",
      "description": "Register to middle frame (not with --frame option)."
    },
    "frame_no": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Frame Number",
      "description": "Register to specified frame (default is 0=1st)."
    },
    "template_out": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Template Output",
      "description": "Save template (beneficial with --frame)."
    },
    "o_outvol": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Volume",
      "description": "Resample moveable volume and save as specified output volume."
    },
    "s_from_reg": {
      "type": "boolean",
      "default": false,
      "title": "Subject from Reg",
      "description": "Get subject name from registration file."
    }
  },
  "additionalProperties": false,
  "required": [
    "subject",
    "moveable_volume",
    "reg_file",
    "@type"
  ]
}