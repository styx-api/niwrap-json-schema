{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "This tool extracts a subset of volumes, b-values, and gradient directions from a diffusion MRI data set.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.dmri_bset"
    },
    "input_dwi": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input DWI",
      "description": "Input DWI series"
    },
    "output_dwi": {
      "type": "string",
      "title": "Output DWI",
      "description": "Output DWI series"
    },
    "b_values": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "B-values",
      "description": "Extract one or more b-values"
    },
    "btol": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 0.05,
      "title": "B-value tolerance",
      "description": "Tolerance around each single b-value (default: 0.05)"
    },
    "bsort": {
      "type": "boolean",
      "default": false,
      "title": "B-shell sort flag",
      "description": "Reorder output data by b-shell (default: maintain original order)"
    },
    "bmax": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "B-value maximum",
      "description": "Extract all b-values less than or equal to a maximum"
    },
    "input_b_table": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input b-value table",
      "description": "Input b-value table (default: input DWI base, .bvals extension)"
    },
    "input_g_table": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input gradient table",
      "description": "Input gradient table (default: input DWI base, .bvecs extension)"
    },
    "output_b_table": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output b-value table",
      "description": "Output b-value table (default: output DWI base, .bvals extension)"
    },
    "output_g_table": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output gradient table",
      "description": "Output gradient table (default: output DWI base, .bvecs extension)"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_dwi",
    "output_dwi"
  ]
}