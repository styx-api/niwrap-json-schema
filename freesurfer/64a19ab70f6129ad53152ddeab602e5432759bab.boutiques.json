{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Sorts and converts a directory of DICOM files (Siemens, GE, Philips) into an output hierarchy with nifti (nii), mgh, mgz, or analyze output formats.",
  "type": "object",
  "properties": {
    "__STYXTYPE__": {
      "const": "dcmunpack"
    },
    "src": {
      "type": "string",
      "title": "Source Directory",
      "description": "Dicom source directory. You can specify more than one."
    },
    "targ": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Target Directory",
      "description": "Output directory. Do not need to include when just getting information about what is in the directory."
    },
    "run": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Run Specification",
      "description": "Specify unpacking rules for a given run (series). Eg, \"-run 3 bold nii f.nii\"."
    },
    "auto_runseq": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Auto Run Sequence",
      "description": "Save all scans in the targetdir as runo.seqname.format."
    },
    "keep_scouts": {
      "type": "boolean",
      "default": false,
      "title": "Keep Scouts Flag",
      "description": "Unpack series with 'scout' or 'setter' in the name."
    },
    "scanonly": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Scan Only",
      "description": "Only scan the directory and put result in file."
    },
    "one_per_dir": {
      "type": "boolean",
      "default": false,
      "title": "One Per Directory Flag",
      "description": "Assume that there is only one dicom series in each subdir."
    },
    "ext": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "File Extension",
      "description": "Input extension (eg, dcm)."
    },
    "pre": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "File Prefix",
      "description": "Input prefix (i.e., input file name init string)."
    },
    "pat": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "File Pattern",
      "description": "Input pattern (i.e., string that occurs in the middle of file name)."
    },
    "no_infodump": {
      "type": "boolean",
      "default": false,
      "title": "No Infodump Flag",
      "description": "Do not create the fname-infodump.dat file."
    },
    "generic": {
      "type": "boolean",
      "default": false,
      "title": "Generic Flag",
      "description": "Do not use FSFAST hierarchy."
    },
    "copy_only": {
      "type": "boolean",
      "default": false,
      "title": "Copy Only Flag",
      "description": "Only copy dicom files to output directory (implies -no-convert)."
    },
    "no_convert": {
      "type": "boolean",
      "default": false,
      "title": "No Convert Flag",
      "description": "Do not convert to output format."
    },
    "force_update": {
      "type": "boolean",
      "default": false,
      "title": "Force Update Flag",
      "description": "Convert even if output is newer than the input dicom."
    },
    "max": {
      "type": "boolean",
      "default": false,
      "title": "Max Flag",
      "description": "Print out max in given dicom file."
    },
    "base": {
      "type": "boolean",
      "default": false,
      "title": "Base Flag",
      "description": "Report filename without path."
    },
    "key_string": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Key String",
      "description": "Put keystring before each run line (good for searching)."
    },
    "index_out": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Index Out",
      "description": "Save index of files to index.out.dat (for re-use)."
    },
    "index_in": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Index In",
      "description": "Read index of files (can make things much faster on 2nd run)."
    },
    "it_dicom": {
      "type": "boolean",
      "default": false,
      "title": "IT DICOM Flag",
      "description": "Add -it dicom to mri_convert cmd line."
    },
    "no_exit_on_error": {
      "type": "boolean",
      "default": false,
      "title": "No Exit on Error Flag",
      "description": "Continue to unpack data even if there is an error in conversion."
    },
    "run_skip": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Run Skip",
      "description": "Skip a given run (good when using -auto-runseq)."
    },
    "no_rescale_dicom": {
      "type": "boolean",
      "default": false,
      "title": "No Rescale DICOM Flag",
      "description": "Turn off DICOM rescaling based on tags (0028,1052) (0028,1053)."
    },
    "rescale_dicom": {
      "type": "boolean",
      "default": false,
      "title": "Rescale DICOM Flag",
      "description": "Turn DICOM rescaling on."
    },
    "no_dwi": {
      "type": "boolean",
      "default": false,
      "title": "No DWI Flag",
      "description": "Turn off trying to read DWI parameters."
    },
    "iid": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "IID",
      "description": "Set -iid to mri_convert."
    },
    "ijd": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "IJD",
      "description": "Set -ijd to mri_convert."
    },
    "ikd": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "IKD",
      "description": "Set -ikd to mri_convert."
    },
    "extra_info": {
      "type": "boolean",
      "default": false,
      "title": "Extra Info Flag",
      "description": "Add session info to each line of the info file (pat, date, man, scan, field, serno)."
    },
    "first_dicom": {
      "type": "boolean",
      "default": false,
      "title": "First DICOM Flag",
      "description": "Copy first dicom file into output folder."
    },
    "no_dcm2niix": {
      "type": "boolean",
      "default": false,
      "title": "No DCM2NIIX Flag",
      "description": "Turn off dcm2niix conversion."
    },
    "phase": {
      "type": "boolean",
      "default": false,
      "title": "Phase Flag",
      "description": "Add the string _phase to volumes that are phase images based on ImageType."
    },
    "fips": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fips Fields",
      "description": "Fips parameters: project, site, birnid, visit."
    },
    "fips_run": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fips Run",
      "description": "Fips-run parameters: run paradigm."
    },
    "xml_only": {
      "type": "boolean",
      "default": false,
      "title": "XML Only Flag",
      "description": "For fips, only create xml file, do not convert to output."
    },
    "log": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Log File",
      "description": "Log output to a file."
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug Flag",
      "description": "Enable debug mode."
    }
  },
  "additionalProperties": false,
  "required": [
    "src"
  ]
}