{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "This program extracts an average waveform from an input volume where the average is computed over the voxels in the given segmentation indices. The input volume is mapped to the space of the segmentation given the registration, and if a voxel shift map (VSM) is supplied, it is applied simultaneously as part of the transform.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.extract_seg_waveform"
    },
    "seg_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Segmentation File",
      "description": "Segmentation file"
    },
    "seg_indices": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "title": "Segmentation Indices",
      "description": "Segmentation indices, one or more indices can be specified"
    },
    "input_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Volume",
      "description": "Input volume"
    },
    "reg_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Registration File",
      "description": "Registration file (.lta)"
    },
    "vsm_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Voxel Shift Map",
      "description": "Voxel shift map for B0 distortion correction"
    },
    "regheader_flag": {
      "type": "boolean",
      "default": false,
      "title": "Registration Header Flag",
      "description": "Uses the header information in the registration file"
    },
    "demean_flag": {
      "type": "boolean",
      "default": false,
      "title": "Demean Flag",
      "description": "Remove mean, first, and second order trends"
    },
    "output_file": {
      "type": "string",
      "title": "Output File",
      "description": "Output waveform file"
    }
  },
  "additionalProperties": false,
  "required": [
    "seg_file",
    "seg_indices",
    "input_volume",
    "reg_file",
    "output_file"
  ]
}