{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mris_volsmooth",
  "description": "Performs surface-based smoothing inside a volume by sampling a volume to a surface, smoothing on the surface, then replacing the surface voxels in the volume with values that were smoothed.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.mris_volsmooth"
    },
    "input_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Volume",
      "description": "Source volume with values that will be smoothed on the surface."
    },
    "output_volume": {
      "type": "string",
      "title": "Output Volume",
      "description": "Output volume."
    },
    "registration": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Registration",
      "description": "TKRegister-style registration matrix that maps between the input/output volumes and the FreeSurfer surface anatomical."
    },
    "projfrac": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Projection Fraction",
      "description": "Fraction of thickness to project along surface normal."
    },
    "projfrac_avg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Projection Fraction Average",
      "description": "Average sampling along normal, specified by min, max, and delta."
    },
    "fill_ribbon": {
      "type": "boolean",
      "default": false,
      "title": "Fill Ribbon Flag",
      "description": "Fill ribbon."
    },
    "surf_out": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Surface Output Basename",
      "description": "Save smoothed surfaces as basename.?h.mgh"
    },
    "fwhm": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "FWHM",
      "description": "Surface smoothing by full-width/half-max in mm."
    },
    "niters": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Iterations",
      "description": "Specify surface smoothing by number of nearest neighbor smoothing iterations."
    },
    "vol_fwhm": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Volume FWHM",
      "description": "Volume smoothing outside of the surface. Surface voxels and non-surface voxels are smoothed separately."
    },
    "log": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Log File",
      "description": "Explicitly set log file."
    },
    "nocleanup": {
      "type": "boolean",
      "default": false,
      "title": "No Cleanup Flag",
      "description": "Do not delete temporary files."
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug Flag",
      "description": "Turn on debugging."
    }
  },
  "additionalProperties": false,
  "required": [
    "input_volume",
    "output_volume",
    "registration"
  ]
}