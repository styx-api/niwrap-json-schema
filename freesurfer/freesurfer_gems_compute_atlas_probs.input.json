{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "gems_compute_atlas_probs",
  "description": "Tool to compute atlas probabilities using SAMSEG results.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/gems_compute_atlas_probs"
    },
    "subjects_dir": {
      "type": "string",
      "title": "Subjects Directory",
      "description": "Directory with saved SAMSEG runs with --history flag."
    },
    "mesh_collections": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Mesh Collections",
      "description": "Mesh collection file(s)."
    },
    "out_dir": {
      "type": "string",
      "title": "Output Directory",
      "description": "Output directory."
    },
    "segmentations_dir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Segmentations Directory",
      "description": "Directory with GT segmentations."
    },
    "gt_from_fs": {
      "type": "boolean",
      "default": false,
      "title": "GT from FS Flag",
      "description": "GT from FreeSurfer segmentations."
    },
    "segmentation_name": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Segmentation Filename",
      "description": "Filename of the segmentations, assumed to be the same for each subject."
    },
    "multi_structure": {
      "type": "boolean",
      "default": false,
      "title": "Multi-structure Flag",
      "description": "Estimate alphas from more than 1 structure."
    },
    "labels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Labels",
      "description": "Label numbers for multi-structure estimation."
    },
    "from_samseg": {
      "type": "boolean",
      "default": false,
      "title": "From SAMSEG Flag",
      "description": "SAMSEG runs obtained from command samseg instead of run_samseg."
    },
    "em_iterations": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "EM Iterations",
      "description": "Number of EM iterations."
    },
    "show_figs": {
      "type": "boolean",
      "default": false,
      "title": "Show Figures Flag",
      "description": "Show figures during the run."
    },
    "save_figs": {
      "type": "boolean",
      "default": false,
      "title": "Save Figures Flag",
      "description": "Save rasterized prior of each subject."
    },
    "save_average_figs": {
      "type": "boolean",
      "default": false,
      "title": "Save Average Figures Flag",
      "description": "Save average rasterized prior."
    },
    "subjects_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subjects File",
      "description": "Text file with list of subjects."
    },
    "labels_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Labels File",
      "description": "Text file with list of labels (instead of --labels)."
    },
    "samseg_subdir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "SAMSEG Subdir",
      "description": "Name of samseg subdir in subject/mri folder."
    }
  },
  "additionalProperties": false,
  "required": [
    "subjects_dir",
    "mesh_collections",
    "out_dir"
  ]
}