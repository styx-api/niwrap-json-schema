{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "dmri_pathstats",
  "description": "Compute path statistics for diffusion MRI data based on input .trk file and optional various measures.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/dmri_pathstats"
    },
    "intrk": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input TRK file",
      "description": "Input .trk file"
    },
    "rois": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          },
          "minItems": 0
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "ROIs file",
      "description": "Input labeling ROIs for .trk file (optional)"
    },
    "intrc": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input tracula directory",
      "description": "Input tracula directory"
    },
    "meas": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          },
          "minItems": 0
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Microstructural measure volumes",
      "description": "Input microstructural measure volume(s) (optional)"
    },
    "measname": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 0
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Measure names",
      "description": "Name(s) of microstructural measure(s) (as many as volumes)"
    },
    "dtbase": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "DTI base name",
      "description": "Base name of input dtifit volumes (optional)"
    },
    "path": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Pathway name",
      "description": "Name of pathway (optional, written to output files)"
    },
    "subj": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subject name",
      "description": "Name of subject (optional, written to output files)"
    },
    "out": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Overall path measures file",
      "description": "Output text file for overall path measures"
    },
    "outvox": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Voxel-by-voxel measures file",
      "description": "Output text file for voxel-by-voxel measures along path (optional)"
    },
    "median": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Median streamline file",
      "description": "Output .trk file of median streamline (optional)"
    },
    "ends": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Ends base name",
      "description": "Base name of output volumes of streamline ends (optional)"
    },
    "ref": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Reference volume",
      "description": "Reference volume (needed only if using --ends without --dtbase)"
    },
    "pthr": {
      "anyOf": [
        {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path posterior threshold",
      "description": "Lower threshold on path posterior distribution, as a portion of the maximum (range: 0-1, default: 0.2)"
    },
    "fthr": {
      "anyOf": [
        {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "FA threshold",
      "description": "Lower threshold on FA (range: 0-1, default: no threshold)"
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug",
      "description": "Turn on debugging"
    },
    "checkopts": {
      "type": "boolean",
      "default": false,
      "title": "Check options flag",
      "description": "Don't run anything, just check options and exit"
    },
    "help": {
      "type": "boolean",
      "default": false,
      "title": "Help",
      "description": "Print out information on how to use this program"
    },
    "version": {
      "type": "boolean",
      "default": false,
      "title": "Version",
      "description": "Print out version and exit"
    }
  },
  "additionalProperties": false,
  "required": [
    "intrk",
    "intrc"
  ]
}