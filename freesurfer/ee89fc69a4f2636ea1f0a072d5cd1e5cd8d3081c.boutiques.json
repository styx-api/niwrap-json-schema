{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "A tool to compute volumes of labeled voxels within MRI images, often used in conjunction with FreeSurfer processed data.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.mri_label_volume"
    },
    "volume": {
      "type": "string",
      "title": "Volume File",
      "description": "Volume file (e.g., volume.mgz) to analyze"
    },
    "labels": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "Labels",
      "description": "Labels to compute volume for"
    },
    "partial_volume_effects": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Partial Volume Effects File",
      "description": "Compute partial volume effects using intensity volume"
    },
    "intracranial_volume": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Intracranial Volume File",
      "description": "Normalize by the intracranial volume in provided file"
    },
    "spreadsheet_subject": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Spreadsheet Subject",
      "description": "Output in spreadsheet mode, including subject name"
    },
    "non_zero_voxels": {
      "type": "boolean",
      "default": false,
      "title": "Non-Zero Voxels Flag",
      "description": "Compute volume of all non-zero voxels (e.g. for computing brain volume)"
    },
    "replace_label_in": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Replace Label Input",
      "description": "Replace label <in> with label <out>."
    },
    "replace_label_out": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Replace Label Output",
      "description": "Label to replace with"
    },
    "brain_volume": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Brain Volume File",
      "description": "Compute the brain volume from provided brain volume file and normalize by it"
    },
    "percentage": {
      "type": "boolean",
      "default": false,
      "title": "Percentage Flag",
      "description": "Compute volume as a percentage of all non-zero labels"
    },
    "log_results": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Log Results File",
      "description": "Log results to provided file"
    },
    "atlas_transform_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Atlas Transform File",
      "description": "Specify LTA or XFM atlas transform file and scale factor to use for ICV correction"
    },
    "atlas_scalefactor": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Atlas Scale Factor",
      "description": "Scale factor for ICV correction"
    },
    "etiv_transform_file": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "eTIV Transform File",
      "description": "Same as -atlas_icv"
    },
    "etiv_scalefactor": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "eTIV Scale Factor",
      "description": "eTIV scale factor"
    },
    "etiv_subject": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "eTIV Subject",
      "description": "Same as -eTIV, and generate MATLAB data appending subject to structure"
    }
  },
  "additionalProperties": false,
  "required": [
    "volume",
    "labels"
  ]
}