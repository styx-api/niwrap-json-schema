{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "swi_process",
  "description": "Process the Susceptibility-weighted images. Ensure the inputs are post-phase unwrapping using PRELUDE.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/swi_process"
    },
    "magnitude_image": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Magnitude Image",
      "description": "The magnitude image (Output from the PRELUDE program)"
    },
    "phase_image": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Phase Image",
      "description": "The phase image (Output from the PRELUDE program)"
    },
    "swi_output": {
      "type": "string",
      "title": "SWI Output Image",
      "description": "Name of the SWI processed output image"
    },
    "stddev": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Standard Deviation",
      "description": "Specify the standard deviation of the Gaussian Smoothing Filter. Default is 2.0"
    },
    "phase_mask_cutoff": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Phase Mask Cutoff",
      "description": "Specify the negative phase mask cutoff frequency (in radians). Default is the minimum value of the phase image."
    },
    "phase_mask_right_cutoff": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Phase Mask Right Cutoff",
      "description": "Specify the positive phase mask cutoff frequency (in radians). Default is the maximum value of the phase image."
    },
    "sigmoid_a": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sigmoid A",
      "description": "Specify 'a' for the sigmoid formula f(phase)=1/(1+exp(-a*(phase-b))). Default is 1.0. Meaningless with phase_method != sigmoid"
    },
    "sigmoid_b": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Sigmoid B",
      "description": "Specify 'b' for the sigmoid formula f(phase)=1/(1+exp(-a*(phase-b))). Default is 0.0. Meaningless with phase_method != sigmoid"
    },
    "phase_multiplications": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Phase Multiplications",
      "description": "Specify the number of phase multiplications. Default is 4"
    },
    "mip_level": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "MIP Level",
      "description": "Specify the number of levels of mIP across the y direction. Default is 4"
    },
    "phase_mask_method": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Phase Mask Method",
      "description": "Specify the phase mask method. One of negative, positive, symmetric, asymmetric, sigmoid. Default is negative"
    }
  },
  "additionalProperties": false,
  "required": [
    "magnitude_image",
    "phase_image",
    "swi_output"
  ]
}