{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_defacer",
  "description": "Tool for defacing MRI images to remove facial features",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/mri_defacer"
    },
    "input_volume": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Input Volume",
      "description": "Input volume"
    },
    "headmask": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Head Mask",
      "description": "Head mask volume"
    },
    "tempsurf": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Template Surface",
      "description": "Template surface file"
    },
    "templabel": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string",
            "x-styx-type": "file"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Template Label",
      "description": "Template label, specify one or multiple labels"
    },
    "watermark": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Watermark Density",
      "description": "Watermark density"
    },
    "defaced_volume": {
      "type": "string",
      "title": "Defaced Volume",
      "description": "Output defaced volume"
    },
    "facemask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Face Mask",
      "description": "Face mask volume"
    },
    "fill_constants": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fill Constants",
      "description": "Constants for filling within/outside the mask"
    },
    "exclude_mask": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Exclude Mask",
      "description": "Mask to exclude from defacing"
    },
    "tempreg": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Registration File",
      "description": "Registration file to apply to surface"
    },
    "minsurfpath": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Minimum Surface Path",
      "description": "Output minimum surface path"
    },
    "maxsurfpath": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Maximum Surface Path",
      "description": "Output maximum surface path"
    },
    "distbounds": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Distance Bounds Path",
      "description": "File with distance bounds for each label"
    },
    "distoverlay": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Distance Overlay",
      "description": "Overlay file showing distance for each vertex"
    },
    "distdat": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Distance Data Path",
      "description": "File with distances for each vertex"
    },
    "statspath": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Statistics Path",
      "description": "Statistics path for nxmask with means and modes"
    },
    "output_tempsurf": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Template Surface",
      "description": "Output template surface after watermark/ripple"
    },
    "apply_to_volume": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 4,
          "maxItems": 4
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Apply to Volume",
      "description": "Apply face mask and registration to another volume"
    },
    "ripple_center": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Ripple Center",
      "description": "Center of ripple effect"
    },
    "apply_ripple": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 6,
          "maxItems": 6
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Apply Ripple",
      "description": "Apply ripple effect on surface"
    },
    "diagnostic_level": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Diagnostic Level",
      "description": "Set diagnostic level"
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug Flag",
      "description": "Turn on debugging"
    },
    "checkopts": {
      "type": "boolean",
      "default": false,
      "title": "Check Options Flag",
      "description": "Check options and exit without executing"
    },
    "version": {
      "type": "boolean",
      "default": false,
      "title": "Version Flag",
      "description": "Print version and exit"
    }
  },
  "additionalProperties": false,
  "required": [
    "input_volume",
    "headmask",
    "tempsurf",
    "defaced_volume"
  ]
}