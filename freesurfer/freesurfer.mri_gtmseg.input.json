{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_gtmseg",
  "description": "Creates a segmentation that can be used with the geometric transfer matrix (GTM).",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer/mri_gtmseg"
    },
    "output_volume": {
      "type": "string",
      "title": "Output Volume",
      "description": "Output volume (output will be subject/mri/outvol)"
    },
    "source_subject": {
      "type": "string",
      "title": "Source Subject",
      "description": "Source subject"
    },
    "internal_usf": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Internal Upsampling Factor",
      "description": "Upsampling factor (default 2)"
    },
    "apas_file": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "APAS File",
      "description": "Defines extra-cerebral and subcortical segmentations (apas+head.mgz)"
    },
    "context_annotation": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Context Annotation",
      "description": "Use annotation to segment cortex (aparc.annot,1000,2000)"
    },
    "subseg_wm": {
      "type": "boolean",
      "default": false,
      "title": "Subsegment White Matter Flag",
      "description": "Turn on segmenting of WM into smaller parts (off by default)"
    },
    "wm_annotation": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 3,
          "maxItems": 3
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "White Matter Annotation",
      "description": "Use annotation to subsegment white matter"
    },
    "dmax": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Dmax",
      "description": "Distance from cortex for white matter segmentation to be considered 'unsegmented' (default 5.000000)"
    },
    "keep_hypo": {
      "type": "boolean",
      "default": false,
      "title": "Keep Hypointensities Flag",
      "description": "Do not convert white matter hypointensities to a white matter label"
    },
    "keep_cc": {
      "type": "boolean",
      "default": false,
      "title": "Keep Corpus Callosum Flag",
      "description": "Do not convert corpus callosum to a white matter label"
    },
    "ctab": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "CTAB Lookup Table",
      "description": "Copy items in ctab.lut into master ctab merging or overwriting what is there"
    },
    "lhminmax": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "LH Min Max",
      "description": "For defining left hemisphere ribbon in APAS (default: 1000 1900)"
    },
    "rhminmax": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 2,
          "maxItems": 2
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "RH Min Max",
      "description": "For defining right hemisphere ribbon in APAS (default: 2000 2900)"
    },
    "output_usf": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Upsampling Factor",
      "description": "Set actual output resolution. Default is to be the same as the --internal-usf"
    },
    "threads": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Threads",
      "description": "Use N threads (with Open MP)"
    },
    "threads_max": {
      "type": "boolean",
      "default": false,
      "title": "Max Threads Flag",
      "description": "Use the maximum allowable number of threads for this computer"
    },
    "threads_max_1": {
      "type": "boolean",
      "default": false,
      "title": "Max Threads Minus One Flag",
      "description": "Use one less than the maximum allowable number of threads for this computer"
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug Flag",
      "description": "Turn on debugging"
    },
    "check_opts": {
      "type": "boolean",
      "default": false,
      "title": "Check Options Flag",
      "description": "Don't run anything, just check options and exit"
    }
  },
  "additionalProperties": false,
  "required": [
    "output_volume",
    "source_subject"
  ]
}