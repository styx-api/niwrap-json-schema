{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_entowm_seg",
  "description": "Segment white matter near gyrus ambiens entorhinal cortex using a deep learning model.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.mri_entowm_seg"
    },
    "input_image": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input Image",
      "description": "T1-weighted image(s) to segment. Can be a path to a single image or a directory of images."
    },
    "output_segmentation": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Segmentation",
      "description": "Segmentation output file or directory (required if --i is provided)."
    },
    "recon_subjects": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Recon Subjects",
      "description": "Process a series of FreeSurfer recon-all subjects, enables subject-mode."
    },
    "subjects_directory": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subjects Directory",
      "description": "Set the subjects directory, overrides the SUBJECTS_DIR env variable."
    },
    "conform": {
      "type": "boolean",
      "default": false,
      "title": "Conform Flag",
      "description": "Resample input to 1mm-iso; results will be put back in native resolution."
    },
    "etiv": {
      "type": "boolean",
      "default": false,
      "title": "eTIV Flag",
      "description": "Include eTIV in volume stats (enabled by default in subject-mode and with --tal)."
    },
    "tal": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Talairach Transform",
      "description": "Alternative talairach xfm transform for estimating TIV, can be file or suffix (for multiple inputs)."
    },
    "write_posteriors": {
      "type": "boolean",
      "default": false,
      "title": "Write Posteriors Flag",
      "description": "Save the label posteriors."
    },
    "write_volumes": {
      "type": "boolean",
      "default": false,
      "title": "Write Volumes Flag",
      "description": "Save label volume stats (enabled by default in subject-mode)."
    },
    "write_qa_stats": {
      "type": "boolean",
      "default": false,
      "title": "Write QA Stats Flag",
      "description": "Save QA stats (z and confidence)."
    },
    "exclude_labels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Exclude Labels",
      "description": "List of label IDs to exclude in any output stats files."
    },
    "keep_ac": {
      "type": "boolean",
      "default": false,
      "title": "Keep Anterior Commissure",
      "description": "Explicitly keep anterior commissure in the volume/QA files."
    },
    "vox_count_volumes": {
      "type": "boolean",
      "default": false,
      "title": "Voxel Count Volumes",
      "description": "Use discrete voxel count for label volumes."
    },
    "model_weights": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Model Weights",
      "description": "Alternative model weights to load."
    },
    "color_table": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Color Table",
      "description": "Alternative color lookup table to embed in segmentation. Must be minimal, including 0, and sorted."
    },
    "population_stats": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Population Stats",
      "description": "Alternative population volume stats for QA output."
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug Flag",
      "description": "Enable debug logging."
    },
    "vmp": {
      "type": "boolean",
      "default": false,
      "title": "VMP Flag",
      "description": "Enable printing of vmpeak at the end."
    },
    "threads": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Threads",
      "description": "Number of threads to use. Default is 1."
    },
    "seven_tesla": {
      "type": "boolean",
      "default": false,
      "title": "7T Preprocessing",
      "description": "Preprocess 7T images (just sets percentile to 99.9)."
    },
    "percentile": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Percentile",
      "description": "Use intensity percentile threshold for normalization."
    },
    "cuda_device": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "CUDA Device",
      "description": "CUDA device for GPU support."
    },
    "output_base": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Base",
      "description": "String to use in output file name; default is sclimbic."
    },
    "no_cite_sclimbic": {
      "type": "boolean",
      "default": false,
      "title": "No Cite Sclimbic",
      "description": "Do not cite sclimbic paper at the end."
    },
    "nchannels": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Number of Channels",
      "description": "Number of channels."
    }
  },
  "additionalProperties": false
}