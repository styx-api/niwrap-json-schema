{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "long_stats_slopes",
  "description": "Computes slopes of statistics in a longitudinal study for each subject from processed results, outputting to designated directories for further analysis.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.long_stats_slopes"
    },
    "qdec_table": {
      "type": "string",
      "x-styx-type": "file",
      "title": "QDEC Table File",
      "description": "QDEC table file specifying the subjects and time points."
    },
    "stats_file": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Stats File",
      "description": "The stats file, e.g. aseg.stats or lh.aparc.stats."
    },
    "measure": {
      "type": "string",
      "title": "Measure",
      "description": "The stats measure (e.g. volume, thickness, mean, std)."
    },
    "subjects_dir": {
      "type": "string",
      "title": "Subjects Directory",
      "description": "Full path to FreeSurfer subjects directory."
    },
    "do_avg": {
      "type": "boolean",
      "default": false,
      "title": "Compute Temporal Average",
      "description": "Compute and output the temporal average."
    },
    "do_rate": {
      "type": "boolean",
      "default": false,
      "title": "Compute Rate",
      "description": "Compute and output the rate."
    },
    "do_pc1fit": {
      "type": "boolean",
      "default": false,
      "title": "Compute Percent Change (Fit)",
      "description": "Compute and output the percent change with respect to tp1 from linear fit."
    },
    "do_pc1": {
      "type": "boolean",
      "default": false,
      "title": "Compute Percent Change",
      "description": "Compute and output the percent change with respect to tp1."
    },
    "do_spc": {
      "type": "boolean",
      "default": false,
      "title": "Compute Symmetric Percent Change",
      "description": "Compute and output the symmetric percent change with respect to temporal average."
    },
    "do_stack": {
      "type": "boolean",
      "default": false,
      "title": "Compute Time Series",
      "description": "Compute and output tables showing the time series (row per time point)."
    },
    "resid": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Residual Timepoint",
      "description": "Residual timepoint to export (pass 1 for tp1, etc., pass 0 for average)."
    },
    "time_var": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Time Variable",
      "description": "Variable name for time column variable (e.g., age) in QDEC table."
    },
    "generic_time": {
      "type": "boolean",
      "default": false,
      "title": "Generic Time",
      "description": "Time points are ordered in QDEC file; assume time=1,2,3..."
    },
    "cross_sectional": {
      "type": "boolean",
      "default": false,
      "title": "Cross-Sectional Results",
      "description": "Use cross-sectional results (for testing only)."
    },
    "out_avg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Temporal Average",
      "description": "Filename to store temporal average in <template>/stats/<OUT_AVG>."
    },
    "out_rate": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Rate",
      "description": "Filename to store rate in <template>/stats/<OUT_RATE>."
    },
    "out_pc1fit": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Percent Change (Fit)",
      "description": "Filename to store percent change to tp1fit in <template>/stats/<OUT_PC1FIT>."
    },
    "out_pc1": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Percent Change",
      "description": "Filename to store percent change to tp1 in <template>/stats/<OUT_PC1>."
    },
    "out_spc": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Symmetric Percent Change",
      "description": "Filename to store symmetric percent change in <template>/stats/<OUT_SPC>."
    },
    "out_resid": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Residual",
      "description": "Filename to store residual in <template>/stats/<OUT_RESID>."
    },
    "out_stack": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Stacked Measures",
      "description": "Filename to store stacked measure file in <template>/stats/<OUT_STACK>."
    },
    "stack_avg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacked Temporal Average",
      "description": "Full filename to stack temporal average tables."
    },
    "stack_rate": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacked Rate Tables",
      "description": "Full filename to stack rate tables."
    },
    "stack_pc1fit": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacked Percent Change (Fit)",
      "description": "Full filename to stack percent change to tp1fit tables."
    },
    "stack_pc1": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacked Percent Change",
      "description": "Full filename to stack percent change to tp1 tables."
    },
    "stack_spc": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacked Symmetric Percent Change",
      "description": "Full filename to stack symmetric percent change tables."
    },
    "stack_resid": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacked Residual Tables",
      "description": "Full filename to stack residual tables."
    }
  },
  "additionalProperties": false,
  "required": [
    "qdec_table",
    "stats_file",
    "measure",
    "subjects_dir"
  ]
}