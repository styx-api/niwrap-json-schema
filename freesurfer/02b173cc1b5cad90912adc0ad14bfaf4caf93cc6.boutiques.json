{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Tool for diffusion MRI path analysis.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.dmri_paths"
    },
    "indir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Input Subject Directory",
      "description": "Input subject directory (optional), specify multiple for longitudinal data."
    },
    "outdir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Output Directory",
      "description": "Output directory (one per path)."
    },
    "dwi": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "DWI Volume Series",
      "description": "DWI volume series."
    },
    "grad": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Diffusion Gradients",
      "description": "Text file of diffusion gradients."
    },
    "bval": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Diffusion b-values",
      "description": "Text file of diffusion b-values."
    },
    "mask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mask Volume",
      "description": "Mask volume."
    },
    "bpdir": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "BEDPOST Directory",
      "description": "BEDPOST directory."
    },
    "ntr": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 1,
      "title": "Max Number of Tracts per Voxel",
      "description": "Max number of tracts per voxel (default 1)."
    },
    "fmin": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 0,
      "title": "Tract Volume Fraction Threshold",
      "description": "Tract volume fraction threshold (default 0)."
    },
    "basereg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base-to-DWI Registration",
      "description": "Base-to-DWI registration, needed for longitudinal data only (.mat, as many as input directories)."
    },
    "basemask": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Base Template Mask Volume",
      "description": "Base template mask volume."
    },
    "roi1": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "End ROI 1",
      "description": "End ROI 1 (volume or label, one per path)."
    },
    "roi2": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "End ROI 2",
      "description": "End ROI 2 (volume or label, one per path)."
    },
    "roimesh1": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mesh for End ROI 1",
      "description": "Mesh for end ROI 1 (for label ROIs)."
    },
    "roimesh2": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Mesh for End ROI 2",
      "description": "Mesh for end ROI 2 (for label ROIs)."
    },
    "roiref1": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Reference Volume for End ROI 1",
      "description": "Reference volume for end ROI 1 (for label ROIs)."
    },
    "roiref2": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Reference Volume for End ROI 2",
      "description": "Reference volume for end ROI 2 (for label ROIs)."
    },
    "prior": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Spatial Path Priors",
      "description": "Spatial path priors (negative log-likelihoods off and on the path, one pair per path)."
    },
    "nprior": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Near-neighbor Label Priors",
      "description": "Near-neighbor label priors (negative log-likelihood and list of labels, one pair per path)."
    },
    "nset": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subset of Near-neighbor Label Priors",
      "description": "Subset of near-neighbor label priors (default all)."
    },
    "lprior": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Local-neighbor Label Priors",
      "description": "Local-neighbor label priors (negative log-likelihood and list of labels, one pair per path)."
    },
    "lset": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subset of Local-neighbor Label Priors",
      "description": "Subset of local-neighbor label priors (default all)."
    },
    "seg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Segmentation Map",
      "description": "Segmentation map of test subject, specify multiple for longitudinal data."
    },
    "tprior": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path Tangent Vector Priors",
      "description": "Path tangent vector priors (negative log-likelihood, one per path)."
    },
    "cprior": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path Curvature Priors",
      "description": "Path curvature priors (negative log-likelihood, one per path)."
    },
    "reg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "DWI-to-Atlas Affine Registration",
      "description": "DWI-to-atlas affine registration (.mat)."
    },
    "regnl": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "DWI-to-Atlas Nonlinear Registration",
      "description": "DWI-to-atlas nonlinear registration (.m3z)."
    },
    "init": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial Control Points",
      "description": "Text file of initial control points (one per path)."
    },
    "nb": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 5000,
      "title": "Number of Burn-in Samples",
      "description": "Number of burn-in samples (default 5000)."
    },
    "ns": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 5000,
      "title": "Number of Post-burn-in Samples",
      "description": "Number of post-burn-in samples (default 5000)."
    },
    "nk": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 10,
      "title": "Sample Interval",
      "description": "Keep every nk-th sample (default 10)."
    },
    "nu": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": 40,
      "title": "Proposal Update Interval",
      "description": "Update proposal every nu-th sample (default 40)."
    },
    "sdp": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial Proposal SDs",
      "description": "Text file with initial proposal standard deviations for control point perturbations."
    },
    "debug": {
      "type": "boolean",
      "default": false,
      "title": "Debug Mode",
      "description": "Turn on debugging."
    },
    "checkopts": {
      "type": "boolean",
      "default": false,
      "title": "Check Options",
      "description": "Don't run anything, just check options and exit."
    },
    "version": {
      "type": "boolean",
      "default": false,
      "title": "Print Version",
      "description": "Print out version and exit."
    }
  },
  "additionalProperties": false
}