{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "mri_label2vol",
  "description": "Converts a label or a set of labels into a volume.",
  "type": "object",
  "properties": {
    "@type": {
      "const": "freesurfer.mri_label2vol"
    },
    "labels": {
      "anyOf": [
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Label files",
      "description": "Enter the name of the label file. For multiple labels, use multiple --label flags."
    },
    "annotation": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Annotation file",
      "description": "Surface annotation file. Use this to input annotations directly."
    },
    "segmentation": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Segmentation file",
      "description": "Path to input segmentation."
    },
    "template": {
      "type": "string",
      "x-styx-type": "file",
      "title": "Template volume",
      "description": "Template volume; the output will have the same size and geometry."
    },
    "registration": {
      "anyOf": [
        {
          "type": "string",
          "x-styx-type": "file"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Registration matrix",
      "description": "tkregister-style registration matrix mapping LabelXYZ to VolXYZ."
    },
    "identity_flag": {
      "type": "boolean",
      "default": false,
      "title": "Identity registration flag",
      "description": "Use the identity matrix as the registration."
    },
    "fill_threshold": {
      "anyOf": [
        {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Fill threshold",
      "description": "Threshold for voxel fill; a value between 0 and 1."
    },
    "label_vox_vol": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Label voxel volume",
      "description": "Volume of each label point; default is 1mm\u00b3."
    },
    "projection": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Projection settings",
      "description": "Project the label along the surface normal. Type can be abs or frac."
    },
    "subject": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Subject ID",
      "description": "FREESURFER subject identifier; needed with --proj."
    },
    "hemisphere": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hemisphere",
      "description": "Hemisphere to use for --proj or --annot. Legal values are lh and rh."
    },
    "output_volume": {
      "type": "string",
      "title": "Output volume",
      "description": "Output volume in which each voxel will have the number of the label to which it is assigned."
    },
    "hits_volume": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Hit volume",
      "description": "Hit volume, a multi-frame volume with one frame per label showing the number of hits per voxel."
    },
    "label_stat_volume": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Label stat volume",
      "description": "Map the label stats field into the volume."
    },
    "stat_threshold": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Statistical threshold",
      "description": "Only use label point where stat > thresh."
    },
    "offset": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Segmentation offset",
      "description": "Add offset to the segmentation numbers."
    },
    "defects": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Defects settings",
      "description": "Creates a segmentation volume of the surface defects."
    },
    "native_vox2ras_flag": {
      "type": "boolean",
      "default": false,
      "title": "Native voxel-to-RAS flag",
      "description": "Use native voxel-to-RAS transform instead of tkregister-style."
    }
  },
  "additionalProperties": false,
  "required": [
    "template",
    "output_volume"
  ]
}